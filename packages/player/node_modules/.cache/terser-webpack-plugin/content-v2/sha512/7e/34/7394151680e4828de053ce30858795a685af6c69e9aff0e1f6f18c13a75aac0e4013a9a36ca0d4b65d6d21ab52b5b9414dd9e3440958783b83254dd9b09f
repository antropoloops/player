{"map":"{\"version\":3,\"sources\":[\"static/js/4.664db50a.chunk.js\"],\"names\":[\"window\",\"push\",\"62\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"classCallCheck\",\"createClass\",\"lodash_debounce\",\"lodash_debounce_default\",\"n\",\"d3\",\"display_Display\",\"Display\",\"el\",\"Object\",\"this\",\"dimensions\",\"svg\",\"width\",\"offsetWidth\",\"height\",\"offsetHeight\",\"createSvg\",\"clear\",\"key\",\"value\",\"isVisible\",\"style\",\"display\",\"container\",\"append\",\"attr\",\"concat\",\"selectAll\",\"remove\",\"slicedToArray\",\"topojson\",\"ALBUMSCOUNT\",\"WORLDRATIO\",\"getVerticalPadding\",\"visualsWidth\",\"getInfoHeight\",\"getCoverSize\",\"getAlbumHeight\",\"verticalPadding\",\"infoHeight\",\"NUMSLICES\",\"degreesFromSlice\",\"range\",\"domain\",\"drawCircle\",\"parent\",\"cx\",\"cy\",\"clip\",\"duration\",\"audio\",\"durationSeconds\",\"trackVolume\",\"volume\",\"trackColor\",\"color\",\"circlesGroup\",\"circle\",\"arc\",\"outerArcs\",\"map\",\"d\",\"i\",\"startAngle\",\"deg2rad\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"createOuterArcs\",\"data\",\"enter\",\"innerArcs\",\"createInnerArcs\",\"turnTimer\",\"elapsed\",\"elapsedSeconds\",\"turnScale\",\"empty\",\"stop\",\"degrees\",\"Math\",\"PI\",\"src\",\"createMapProjector\",\"scale\",\"center\",\"x\",\"y\",\"translate\",\"calculateMapScale\",\"name\",\"group\",\"createProjector\",\"visuals\",\"albumsHeight\",\"mode\",\"_visuals$geomap\",\"geomap\",\"scaleFactor\",\"containerWidth\",\"containerHeight\",\"realImageWidth\",\"realImageHeight\",\"containerRatio\",\"imageRatio\",\"_ref\",\"_ref2\",\"createPanelProjector\",\"image\",\"size\",\"visuals_Visuals\",\"Visuals\",\"set\",\"circles\",\"albums\",\"refLines\",\"countries\",\"backgroundContainer\",\"circlesContainer\",\"albumsContainer\",\"refLinesContainer\",\"wavesContainer\",\"geodata\",\"collection\",\"objects\",\"features\",\"filter\",\"country\",\"id\",\"setup\",\"index\",\"clipById\",\"_projector\",\"projector\",\"position\",\"_projector2\",\"album\",\"trackNumber\",\"trackNum\",\"imageUrl\",\"resources\",\"cover\",\"small\",\"coverSize\",\"horizontalPadding\",\"textElement\",\"textId\",\"danger\",\"document\",\"getElementById\",\"textLength\",\"getBBox\",\"text\",\"length\",\"slice\",\"wrap\",\"drawAlbum\",\"refLine\",\"x1\",\"x2\",\"y2\",\"h\",\"sqrt\",\"pow\",\"a\",\"alfa\",\"acos\",\"curveCoords\",\"cos\",\"sin\",\"line\",\"curve\",\"datum\",\"drawRefLine\",\"screenWidth\",\"firstRadius\",\"floor\",\"radius\",\"wave\",\"forEach\",\"strokeWidth\",\"transition\",\"delay\",\"on\",\"nodes\",\"lastRadius\",\"createWave\",\"backgroundWidth\",\"backgroundHeight\",\"createGroup\",\"path\",\"projection\",\"drawMap\",\"url\",\"visuals_VisualControl\",\"VisualControl\",\"audioset\",\"_this\",\"handleResize\",\"fetch\",\"then\",\"response\",\"json\",\"setGeodata\",\"setupVisuals\",\"resizeSvg\",\"addEventListener\",\"clipId\",\"show\",\"hide\",\"removeEventListener\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonpatpls-player\"]=window[\"webpackJsonpatpls-player\"]||[]).push([[4],{62:function(t,e,i){\"use strict\";i.r(e);var n=i(2),s=i(4),r=i(59),a=i.n(r),o=i(56),c=function(){function t(e){Object(n.a)(this,t),this.el=void 0,this.dimensions=void 0,this.svg=void 0,this.el=e,this.dimensions={width:this.el.offsetWidth,height:this.el.offsetHeight},this.createSvg(),this.clear()}return Object(s.a)(t,[{key:\"setVisible\",value:function(t){this.el.style.display=t?\"block\":\"none\"}},{key:\"createSvg\",value:function(){var t=Object(o.g)(this.el);return this.svg=t.append(\"svg\").attr(\"width\",this.dimensions.width).attr(\"height\",this.dimensions.height).attr(\"viewBox\",\"0 0 \".concat(this.dimensions.width,\" \").concat(this.dimensions.height)),this.svg}},{key:\"clear\",value:function(){Object(o.g)(this.el).selectAll(\"*\").remove()}}]),t}(),u=i(14),l=i(61),h=8,d=2.12;function v(t){return t/450}function f(t){return t/50}function p(t){return t/h}function y(t){var e=v(t),i=f(t);return p(t)+e+i}var g=36,m=o.f().range([0,360]).domain([0,g]);function w(t,e,i,n,s){var r=s.audio.durationSeconds,a=s.audio.volume,c=s.color,u=t.append(\"g\").attr(\"class\",\"circleGroup\").attr(\"transform\",\"translate(\".concat(i,\", \").concat(n,\")\")),l=u.append(\"g\").attr(\"class\",\"circle\"),h=o.a(),d=function(t,e){return o.e(g).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(n===g-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e*2}}))}(e,a);l.selectAll(\".outerArcs\").data(d).enter().append(\"path\").attr(\"class\",\"outerArcs\").attr(\"d\",h).style(\"fill\",c).style(\"opacity\",(function(t,e){return.3/g*e}));var v=function(t,e){return o.e(g).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(n===g-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e}}))}(e,a);l.selectAll(\".innerArcs\").data(v).enter().append(\"path\").attr(\"class\",\"innerArcs\").attr(\"d\",h).style(\"fill\",c).style(\"opacity\",(function(t,e){return 1/g*e})),l.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",0).attr(\"y2\",-(e/30*a+e/350)).style(\"stroke\",c).style(\"stroke-width\",1.5);var f=o.h((function(t){var e=t/1e3%r,i=o.f().range([1,0]).domain([0,r]);l.style(\"transform\",\"rotate(\".concat(-i(e),\"turn)\")),o.g(\".circle\").empty()&&f.stop()}));return u}function k(t){return t*(Math.PI/180)}var b=i(60);function x(t,e,i,n){return b.a().scale(i).center([n.x,n.y]).translate([t/2,e/2])}function C(t,e){return(t/e<d?t:e*d)/5.9}var j=function(t,e){var i=e[t];i&&(i.remove(),e[t]=null)};function A(t,e){var i=e.width,n=e.height,s=y(i),r=C(i,n-s);if(\"map\"===t.mode){var a=t.geomap;return x(i,n-s,a.scaleFactor*r,a.center)}return function(t,e,i,n){var s=t/e,r=i/n;return function(a){var o=Object(u.a)(a,2),c=o[0],l=o[1];return[s>r?c/i*e*r:c/i*t,s>r?l/n*e:l/n*(t/r)]}}(i,n-s,t.image.size.width,t.image.size.height)}var M=function(){function t(e,i){Object(n.a)(this,t),this.set=e,this.display=i,this.circles=void 0,this.albums=void 0,this.refLines=void 0,this.countries=void 0,this.backgroundContainer=void 0,this.circlesContainer=void 0,this.albumsContainer=void 0,this.refLinesContainer=void 0,this.wavesContainer=void 0,this.circles={},this.albums={},this.refLines={}}return Object(s.a)(t,[{key:\"setGeodata\",value:function(t){var e=l.a(t,t.objects.countries);this.countries=e.features.filter((function(t){return\"010\"!==t.id})),this.setup()}},{key:\"show\",value:function(t){var e=this.set.index.clipById[t];if(e){var i=this.display.dimensions.width,n=A(this.set.visuals,this.display.dimensions)(e.position),s=Object(u.a)(n,2),r=s[0],a=s[1],c=w(this.circlesContainer,i,r,a,e);this.circles[t]=c;var l=function(t,e,i){var n=i.trackNum,s=i.resources.cover.small,r=i.country,a=i.color,o=t.append(\"g\"),c=p(e),u=e/300,l=v(e),h=f(e);return o.append(\"svg:image\").attr(\"width\",c).attr(\"height\",c).attr(\"x\",n*c).attr(\"y\",0).style(\"stroke\",\"white\").attr(\"xlink:href\",s),o.append(\"rect\").attr(\"width\",c).attr(\"height\",h).attr(\"x\",n*c).attr(\"y\",c+l).style(\"fill\",a),function(t,e){var i=document.getElementById(e);if(i)for(var n=i.getBBox().width,s=t.text();n>c-2*u&&s.length>0;)s=s.slice(0,-1),t.text(s+\"...\"),n=i.getBBox().width}(o.append(\"text\").attr(\"id\",\"countryText\"+n).attr(\"x\",n*c+u).attr(\"y\",c+l+h/2).attr(\"dy\",\"0.35em\").style(\"font-size\",\"1.1vw\").text(r),\"countryText\"+n),o}(this.albumsContainer,i,e);this.albums[t]=l;var h=function(t,e,i,n,s){var r=p(e)*(s.trackNum+.5),a=i,c=n,u=Math.sqrt(Math.pow(a-r,2)+Math.pow(c-0,2)),l=u/10,h=Math.acos((c-0)/u),d=[{x:r,y:0},{x:r+(a-r)/2+l*Math.cos(Math.PI-h),y:0+(c-0)/2+l*Math.sin(Math.PI-h)},{x:a,y:c}],v=o.d().x((function(t){return t.x})).y((function(t){return t.y})).curve(o.b);return t.append(\"path\").datum(d).attr(\"d\",v).style(\"stroke\",s.color).style(\"stroke-dasharray\",\"2, 3\").style(\"fill\",\"none\").style(\"stroke-width\",2)}(this.refLinesContainer,i,r,a,e);this.refLines[t]=h,function(t,e,i,n,s,r){var a=Math.floor(e/30*r),c=o.e(a,150),u=t.append(\"circle\").attr(\"cx\",i).attr(\"cy\",n).attr(\"r\",0).style(\"fill\",\"none\").style(\"stroke\",s);c.forEach((function(t,e){var i=2-2*t/150;u.transition().duration(20).delay(20*e).attr(\"r\",t).style(\"stroke-width\",i).on(\"end\",(function(e,i,n){149===t&&n[i].remove()}))}))}(this.wavesContainer,i,r,a,e)}}},{key:\"hide\",value:function(t){j(t,this.circles),j(t,this.albums),j(t,this.refLines)}},{key:\"resizeSvg\",value:function(){this.setup()}},{key:\"setup\",value:function(){this.display.clear(),this.display.createSvg();var t,e,i,n,s=this.display.dimensions.width,r=y(s),a=this.display.dimensions.height-r,c=this.display.svg;this.backgroundContainer=L(c,\"background\",r),this.albumsContainer=L(c,\"albums\",0),this.refLinesContainer=L(c,\"refLines\",r),this.circlesContainer=L(c,\"circles\",r),this.wavesContainer=L(c,\"waves\",r),\"map\"===this.set.visuals.mode?function(t,e,i,n,s){var r=s.geomap.scaleFactor,a=s.geomap.center,c=x(i,n,C(i,n)*r,a),u=o.c().projection(c);t.selectAll(\".countries\").data(e).enter().append(\"path\").attr(\"id\",(function(t){return\"country\".concat(t.id)})).attr(\"class\",\"countries\").attr(\"d\",u).style(\"stroke\",\"#2c2c2c\").style(\"stroke-width\",.5).style(\"fill\",\"#888888\")}(this.backgroundContainer,this.countries,s,a,this.set.visuals):(t=this.backgroundContainer,e=s,i=a,n=this.set.visuals.image.url,t.append(\"svg:image\").attr(\"xlink:href\",n).attr(\"x\",0).attr(\"y\",0).attr(\"width\",e).attr(\"height\",i).attr(\"preserveAspectRatio\",\"xMinYMin meet\"))}}]),t}();function L(t,e,i){return t.append(\"g\").attr(\"id\",e).attr(\"transform\",\"translate(0, \".concat(i,\")\"))}i.d(e,\"VisualControl\",(function(){return O}));var O=function(){function t(e,i){var s=this;Object(n.a)(this,t),this.el=i,this.display=void 0,this.visuals=void 0,this.handleResize=void 0,this.display=new c(i),this.visuals=new M(e,this.display),function(t,e){\"map\"===t.visuals.mode?fetch(t.visuals.geomap.url).then((function(t){return t.json()})).then((function(t){return e.setGeodata(t)})):e.setup()}(e,this.visuals),this.handleResize=a()((function(){s.visuals.resizeSvg()})),window.addEventListener(i,this.handleResize)}return Object(s.a)(t,[{key:\"startClip\",value:function(t){this.visuals.show(t)}},{key:\"stopClip\",value:function(t){this.visuals.hide(t)}},{key:\"detach\",value:function(){window.removeEventListener(this.el,this.handleResize)}}]),t}()}}]);","extractedComments":[]}