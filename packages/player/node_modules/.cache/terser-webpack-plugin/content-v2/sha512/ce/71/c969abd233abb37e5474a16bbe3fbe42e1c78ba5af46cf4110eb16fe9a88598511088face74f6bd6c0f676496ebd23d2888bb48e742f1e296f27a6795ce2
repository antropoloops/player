{"map":"{\"version\":3,\"sources\":[\"static/js/4.f355562f.chunk.js\"],\"names\":[\"this\",\"push\",\"72\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"classCallCheck\",\"createClass\",\"lodash_debounce\",\"lodash_debounce_default\",\"n\",\"d3\",\"display_Display\",\"Display\",\"el\",\"Object\",\"dimensions\",\"svg\",\"width\",\"offsetWidth\",\"height\",\"offsetHeight\",\"createSvg\",\"clear\",\"key\",\"value\",\"isVisible\",\"style\",\"display\",\"container\",\"append\",\"attr\",\"concat\",\"selectAll\",\"remove\",\"slicedToArray\",\"topojson\",\"ALBUMSCOUNT\",\"WORLDRATIO\",\"getVerticalPadding\",\"visualsWidth\",\"getInfoHeight\",\"getCoverSize\",\"getAlbumHeight\",\"verticalPadding\",\"infoHeight\",\"NUMSLICES\",\"degreesFromSlice\",\"range\",\"domain\",\"drawCircle\",\"parent\",\"cx\",\"cy\",\"clip\",\"duration\",\"audio\",\"durationSeconds\",\"trackVolume\",\"volume\",\"trackColor\",\"color\",\"circlesGroup\",\"circle\",\"arc\",\"outerArcs\",\"map\",\"d\",\"i\",\"startAngle\",\"deg2rad\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"createOuterArcs\",\"data\",\"enter\",\"innerArcs\",\"createInnerArcs\",\"turnTimer\",\"elapsed\",\"elapsedSeconds\",\"turnScale\",\"empty\",\"stop\",\"degrees\",\"Math\",\"PI\",\"robinson\",\"createMapProjector\",\"scale\",\"center\",\"x\",\"y\",\"translate\",\"calculateMapScale\",\"name\",\"group\",\"createProjector\",\"visuals\",\"albumsHeight\",\"mode\",\"_visuals$geomap\",\"geomap\",\"scaleFactor\",\"containerWidth\",\"containerHeight\",\"realImageWidth\",\"realImageHeight\",\"containerRatio\",\"imageRatio\",\"_ref\",\"_ref2\",\"createPanelProjector\",\"image\",\"size\",\"visuals_Visuals\",\"Visuals\",\"set\",\"circles\",\"albums\",\"refLines\",\"countries\",\"backgroundContainer\",\"circlesContainer\",\"albumsContainer\",\"refLinesContainer\",\"wavesContainer\",\"geodata\",\"collection\",\"objects\",\"features\",\"filter\",\"country\",\"id\",\"setup\",\"index\",\"clipById\",\"_projector\",\"projector\",\"position\",\"_projector2\",\"album\",\"trackNumber\",\"trackNum\",\"imageUrl\",\"resources\",\"cover\",\"small\",\"coverSize\",\"horizontalPadding\",\"textElement\",\"textId\",\"danger\",\"document\",\"getElementById\",\"textLength\",\"getBBox\",\"text\",\"length\",\"slice\",\"wrap\",\"drawAlbum\",\"refLine\",\"x1\",\"x2\",\"y2\",\"h\",\"sqrt\",\"pow\",\"a\",\"alfa\",\"acos\",\"curveCoords\",\"cos\",\"sin\",\"line\",\"curve\",\"datum\",\"drawRefLine\",\"screenWidth\",\"firstRadius\",\"floor\",\"radius\",\"wave\",\"forEach\",\"strokeWidth\",\"transition\",\"delay\",\"on\",\"nodes\",\"lastRadius\",\"createWave\",\"backgroundWidth\",\"backgroundHeight\",\"createGroup\",\"path\",\"projection\",\"drawMap\",\"url\",\"visuals_VisualControl\",\"VisualControl\",\"audioset\",\"_this\",\"handleResize\",\"fetch\",\"then\",\"response\",\"json\",\"setGeodata\",\"setupVisuals\",\"resizeSvg\",\"window\",\"addEventListener\",\"clipId\",\"show\",\"hide\",\"removeEventListener\"],\"mappings\":\"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\"}","code":"(this[\"webpackJsonpatpls-player\"]=this[\"webpackJsonpatpls-player\"]||[]).push([[4],{72:function(t,e,i){\"use strict\";i.r(e);var n=i(1),s=i(2),r=i(69),a=i.n(r),o=i(65),c=function(){function t(e){Object(n.a)(this,t),this.el=void 0,this.dimensions=void 0,this.svg=void 0,this.el=e,this.dimensions={width:this.el.offsetWidth,height:this.el.offsetHeight},this.createSvg(),this.clear()}return Object(s.a)(t,[{key:\"setVisible\",value:function(t){this.el.style.display=t?\"block\":\"none\"}},{key:\"createSvg\",value:function(){var t=Object(o.g)(this.el);return this.svg=t.append(\"svg\").attr(\"width\",this.dimensions.width).attr(\"height\",this.dimensions.height).attr(\"viewBox\",\"0 0 \".concat(this.dimensions.width,\" \").concat(this.dimensions.height)),this.svg}},{key:\"clear\",value:function(){Object(o.g)(this.el).selectAll(\"*\").remove()}}]),t}(),u=i(7),l=i(70),h=8,d=2.12;function v(t){return t/450}function f(t){return t/50}function p(t){return t/h}function y(t){var e=v(t),i=f(t);return p(t)+e+i}var g=36,m=o.f().range([0,360]).domain([0,g]);function w(t,e,i,n,s){var r=s.audio.durationSeconds,a=s.audio.volume,c=s.color,u=t.append(\"g\").attr(\"class\",\"circleGroup\").attr(\"transform\",\"translate(\".concat(i,\", \").concat(n,\")\")),l=u.append(\"g\").attr(\"class\",\"circle\"),h=o.a(),d=function(t,e){return o.e(g).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(n===g-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e*2}}))}(e,a);l.selectAll(\".outerArcs\").data(d).enter().append(\"path\").attr(\"class\",\"outerArcs\").attr(\"d\",h).style(\"fill\",c).style(\"opacity\",(function(t,e){return.3/g*e}));var v=function(t,e){return o.e(g).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(n===g-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e}}))}(e,a);l.selectAll(\".innerArcs\").data(v).enter().append(\"path\").attr(\"class\",\"innerArcs\").attr(\"d\",h).style(\"fill\",c).style(\"opacity\",(function(t,e){return 1/g*e})),l.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",0).attr(\"y2\",-(e/30*a+e/350)).style(\"stroke\",c).style(\"stroke-width\",1.5);var f=o.h((function(t){var e=t/1e3%r,i=o.f().range([1,0]).domain([0,r]);l.style(\"transform\",\"rotate(\".concat(-i(e),\"turn)\")),o.g(\".circle\").empty()&&f.stop()}));return u}function k(t){return t*(Math.PI/180)}var b=i(73);function x(t,e,i,n){return b.a().scale(i).center([n.x,n.y]).translate([t/2,e/2])}function C(t,e){return(t/e<d?t:e*d)/5.9}var j=function(t,e){var i=e[t];i&&(i.remove(),e[t]=null)};function A(t,e){var i=e.width,n=e.height,s=y(i),r=C(i,n-s);if(\"map\"===t.mode){var a=t.geomap;return x(i,n-s,a.scaleFactor*r,a.center)}return function(t,e,i,n){var s=t/e,r=i/n;return function(a){var o=Object(u.a)(a,2),c=o[0],l=o[1];return[s>r?c/i*e*r:c/i*t,s>r?l/n*e:l/n*(t/r)]}}(i,n-s,t.image.size.width,t.image.size.height)}var M=function(){function t(e,i){Object(n.a)(this,t),this.set=e,this.display=i,this.circles=void 0,this.albums=void 0,this.refLines=void 0,this.countries=void 0,this.backgroundContainer=void 0,this.circlesContainer=void 0,this.albumsContainer=void 0,this.refLinesContainer=void 0,this.wavesContainer=void 0,this.circles={},this.albums={},this.refLines={}}return Object(s.a)(t,[{key:\"setGeodata\",value:function(t){var e=l.a(t,t.objects.countries);this.countries=e.features.filter((function(t){return\"010\"!==t.id})),this.setup()}},{key:\"show\",value:function(t){var e=this.set.index.clipById[t];if(e){var i=this.display.dimensions.width,n=A(this.set.visuals,this.display.dimensions)(e.position),s=Object(u.a)(n,2),r=s[0],a=s[1],c=w(this.circlesContainer,i,r,a,e);this.circles[t]=c;var l=function(t,e,i){var n=i.trackNum,s=i.resources.cover.small,r=i.country,a=i.color,o=t.append(\"g\"),c=p(e),u=e/300,l=v(e),h=f(e);return o.append(\"svg:image\").attr(\"width\",c).attr(\"height\",c).attr(\"x\",n*c).attr(\"y\",0).style(\"stroke\",\"white\").attr(\"xlink:href\",s),o.append(\"rect\").attr(\"width\",c).attr(\"height\",h).attr(\"x\",n*c).attr(\"y\",c+l).style(\"fill\",a),function(t,e){var i=document.getElementById(e);if(i)for(var n=i.getBBox().width,s=t.text();n>c-2*u&&s.length>0;)s=s.slice(0,-1),t.text(s+\"...\"),n=i.getBBox().width}(o.append(\"text\").attr(\"id\",\"countryText\"+n).attr(\"x\",n*c+u).attr(\"y\",c+l+h/2).attr(\"dy\",\"0.35em\").style(\"font-size\",\"1.1vw\").text(r),\"countryText\"+n),o}(this.albumsContainer,i,e);this.albums[t]=l;var h=function(t,e,i,n,s){var r=p(e)*(s.trackNum+.5),a=i,c=n,u=Math.sqrt(Math.pow(a-r,2)+Math.pow(c-0,2)),l=u/10,h=Math.acos((c-0)/u),d=[{x:r,y:0},{x:r+(a-r)/2+l*Math.cos(Math.PI-h),y:0+(c-0)/2+l*Math.sin(Math.PI-h)},{x:a,y:c}],v=o.d().x((function(t){return t.x})).y((function(t){return t.y})).curve(o.b);return t.append(\"path\").datum(d).attr(\"d\",v).style(\"stroke\",s.color).style(\"stroke-dasharray\",\"2, 3\").style(\"fill\",\"none\").style(\"stroke-width\",2)}(this.refLinesContainer,i,r,a,e);this.refLines[t]=h,function(t,e,i,n,s,r){var a=Math.floor(e/30*r),c=o.e(a,150),u=t.append(\"circle\").attr(\"cx\",i).attr(\"cy\",n).attr(\"r\",0).style(\"fill\",\"none\").style(\"stroke\",s);c.forEach((function(t,e){var i=2-2*t/150;u.transition().duration(20).delay(20*e).attr(\"r\",t).style(\"stroke-width\",i).on(\"end\",(function(e,i,n){149===t&&n[i].remove()}))}))}(this.wavesContainer,i,r,a,e)}}},{key:\"hide\",value:function(t){j(t,this.circles),j(t,this.albums),j(t,this.refLines)}},{key:\"resizeSvg\",value:function(){this.setup()}},{key:\"setup\",value:function(){this.display.clear(),this.display.createSvg();var t,e,i,n,s=this.display.dimensions.width,r=y(s),a=this.display.dimensions.height-r,c=this.display.svg;this.backgroundContainer=L(c,\"background\",r),this.albumsContainer=L(c,\"albums\",0),this.refLinesContainer=L(c,\"refLines\",r),this.circlesContainer=L(c,\"circles\",r),this.wavesContainer=L(c,\"waves\",r),\"map\"===this.set.visuals.mode?function(t,e,i,n,s){var r=s.geomap.scaleFactor,a=s.geomap.center,c=x(i,n,C(i,n)*r,a),u=o.c().projection(c);t.selectAll(\".countries\").data(e).enter().append(\"path\").attr(\"id\",(function(t){return\"country\".concat(t.id)})).attr(\"class\",\"countries\").attr(\"d\",u).style(\"stroke\",\"#2c2c2c\").style(\"stroke-width\",.5).style(\"fill\",\"#888888\")}(this.backgroundContainer,this.countries,s,a,this.set.visuals):(t=this.backgroundContainer,e=s,i=a,n=this.set.visuals.image.url,t.append(\"svg:image\").attr(\"xlink:href\",n).attr(\"x\",0).attr(\"y\",0).attr(\"width\",e).attr(\"height\",i).attr(\"preserveAspectRatio\",\"xMinYMin meet\"))}}]),t}();function L(t,e,i){return t.append(\"g\").attr(\"id\",e).attr(\"transform\",\"translate(0, \".concat(i,\")\"))}i.d(e,\"VisualControl\",(function(){return O}));var O=function(){function t(e,i){var s=this;Object(n.a)(this,t),this.el=i,this.display=void 0,this.visuals=void 0,this.handleResize=void 0,this.display=new c(i),this.visuals=new M(e,this.display),function(t,e){\"map\"===t.visuals.mode?fetch(t.visuals.geomap.url).then((function(t){return t.json()})).then((function(t){return e.setGeodata(t)})):e.setup()}(e,this.visuals),this.handleResize=a()((function(){s.visuals.resizeSvg()})),window.addEventListener(i,this.handleResize)}return Object(s.a)(t,[{key:\"startClip\",value:function(t){this.visuals.show(t)}},{key:\"stopClip\",value:function(t){this.visuals.hide(t)}},{key:\"detach\",value:function(){window.removeEventListener(this.el,this.handleResize)}}]),t}()}}]);","extractedComments":[]}