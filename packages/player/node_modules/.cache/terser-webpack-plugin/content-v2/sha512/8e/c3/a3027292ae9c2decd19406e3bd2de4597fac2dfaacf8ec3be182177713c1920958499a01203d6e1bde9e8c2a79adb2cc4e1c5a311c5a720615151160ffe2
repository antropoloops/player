{"map":"{\"version\":3,\"sources\":[\"static/js/4.41275053.chunk.js\"],\"names\":[\"this\",\"push\",\"846\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"classCallCheck\",\"createClass\",\"lodash_debounce\",\"lodash_debounce_default\",\"n\",\"ResizeObserver_es\",\"d3\",\"display_Display\",\"Display\",\"el\",\"Object\",\"svg\",\"createSvg\",\"clear\",\"key\",\"value\",\"width\",\"offsetWidth\",\"height\",\"offsetHeight\",\"isVisible\",\"style\",\"display\",\"container\",\"dimensions\",\"getDimensions\",\"append\",\"attr\",\"concat\",\"selectAll\",\"remove\",\"slicedToArray\",\"topojson\",\"getVerticalPadding\",\"visualsWidth\",\"getInfoHeight\",\"getCoverSize\",\"getAlbumHeight\",\"verticalPadding\",\"infoHeight\",\"degreesFromSlice\",\"range\",\"domain\",\"drawCircle\",\"parent\",\"cx\",\"cy\",\"clip\",\"duration\",\"audio\",\"durationSeconds\",\"trackVolume\",\"volume\",\"trackColor\",\"color\",\"circlesGroup\",\"circle\",\"arc\",\"outerArcs\",\"map\",\"d\",\"i\",\"startAngle\",\"deg2rad\",\"endAngle\",\"NUMSLICES\",\"innerRadius\",\"outerRadius\",\"createOuterArcs\",\"data\",\"enter\",\"innerArcs\",\"createInnerArcs\",\"turnTimer\",\"elapsed\",\"elapsedSeconds\",\"turnScale\",\"empty\",\"stop\",\"degrees\",\"Math\",\"PI\",\"robinson\",\"createMapProjector\",\"scale\",\"center\",\"x\",\"y\",\"translate\",\"calculateMapScale\",\"name\",\"group\",\"createProjector\",\"visuals\",\"albumsHeight\",\"mode\",\"_visuals$geomap\",\"geomap\",\"scaleFactor\",\"containerWidth\",\"containerHeight\",\"realImageWidth\",\"realImageHeight\",\"containerRatio\",\"imageRatio\",\"_ref\",\"_ref2\",\"createPanelProjector\",\"image\",\"size\",\"visuals_Visuals\",\"Visuals\",\"set\",\"circles\",\"albums\",\"refLines\",\"countries\",\"backgroundContainer\",\"circlesContainer\",\"albumsContainer\",\"refLinesContainer\",\"wavesContainer\",\"geodata\",\"collection\",\"objects\",\"features\",\"filter\",\"country\",\"id\",\"index\",\"clipById\",\"_projector\",\"projector\",\"position\",\"_projector2\",\"album\",\"trackNumber\",\"trackNum\",\"imageUrl\",\"resources\",\"cover\",\"small\",\"coverSize\",\"horizontalPadding\",\"textElement\",\"textId\",\"danger\",\"document\",\"getElementById\",\"textLength\",\"getBBox\",\"text\",\"length\",\"slice\",\"wrap\",\"drawAlbum\",\"refLine\",\"x1\",\"x2\",\"y2\",\"h\",\"sqrt\",\"pow\",\"a\",\"alfa\",\"acos\",\"curveCoords\",\"cos\",\"sin\",\"line\",\"curve\",\"datum\",\"drawRefLine\",\"screenWidth\",\"firstRadius\",\"floor\",\"radius\",\"wave\",\"forEach\",\"strokeWidth\",\"transition\",\"delay\",\"on\",\"nodes\",\"lastRadius\",\"createWave\",\"setup\",\"backgroundWidth\",\"backgroundHeight\",\"createGroup\",\"path\",\"projection\",\"drawMap\",\"url\",\"visuals_VisualControl\",\"VisualControl\",\"audioset\",\"_this\",\"detachers\",\"fetch\",\"then\",\"response\",\"json\",\"setGeodata\",\"Promise\",\"resolve\",\"setupVisuals\",\"element\",\"callback\",\"debouncedCallback\",\"resizeObserver\",\"entries\",\"Array\",\"isArray\",\"entry\",\"contentRect\",\"observe\",\"unobserve\",\"addResizeObserver\",\"resizeSvg\",\"clipId\",\"show\",\"hide\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"undefined\",\"_step\",\"_iterator\",\"Symbol\",\"iterator\",\"next\",\"done\",\"detach\",\"err\",\"return\"],\"mappings\":\"CAACA,KAAK,4BAA8BA,KAAK,6BAA+B,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEhFC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAiBF,EAAoB,GAGrCG,EAAcH,EAAoB,GAGlCI,EAAkBJ,EAAoB,KACtCK,EAAuCL,EAAoBM,EAAEF,GAG7DG,EAAoBP,EAAoB,KAM5C,IAAIQ,EAAKR,EAAoB,KAOtBS,EAA6B,WAAW,SAASC,EAAQC,GAAIC,OAAOV,EAAgC,EAAvCU,CAA0CjB,KAAKe,GAASf,KAAKgB,QAAG,EAAOhB,KAAKkB,SAAI,EAAOlB,KAAKgB,GAAGA,EAAGhB,KAAKmB,YAAYnB,KAAKoB,QAA4tB,OAAntBH,OAAOT,EAA6B,EAApCS,CAAuCF,EAAQ,CAAC,CAACM,IAAI,gBAAgBC,MAAM,WAAyB,MAAM,CAACC,MAAMvB,KAAKgB,GAAGQ,YAAYC,OAAOzB,KAAKgB,GAAGU,gBAAiB,CAACL,IAAI,aAAaC,MAAM,SAAoBK,GAAW3B,KAAKgB,GAAGY,MAAMC,QAAQF,EAAU,QAAQ,SAAU,CAACN,IAAI,YAAYC,MAAM,WAAqB,IAAIQ,EAAUb,OAAOJ,EAAmB,EAA1BI,CAA6BjB,KAAKgB,IAAQe,EAAW/B,KAAKgC,gBAA+L,OAA/KhC,KAAKkB,IAAIY,EAAUG,OAAO,OAAOC,KAAK,QAAQH,EAAWR,OAAOW,KAAK,SAASH,EAAWN,QAAQS,KAAK,UAAU,OAAOC,OAAOJ,EAAWR,MAAM,KAAKY,OAAOJ,EAAWN,SAAgBzB,KAAKkB,MAAO,CAACG,IAAI,QAAQC,MAAM,WAA+BL,OAAOJ,EAAmB,EAA1BI,CAA6BjB,KAAKgB,IAAcoB,UAAU,KAAKC,aAAqBtB,EAA33B,GAEhCuB,EAAgBjC,EAAoB,IAGpCkC,EAAWlC,EAAoB,KAOnC,SAASmC,EAAmBC,GAAc,OAAOA,EAAa,IAC9D,SAASC,EAAcD,GAAc,OAAOA,EAAa,GAAI,SAASE,EAAaF,GAAc,OAAOA,EALxF,EAKkH,SAASG,EAAeH,GAAc,IAAII,EAAgBL,EAAmBC,GAAkBK,EAAWJ,EAAcD,GAAc,OAAOE,EAAaF,GAAcI,EAAgBC,EAS1T,IACIC,EAAiBlC,EAAwB,IAAImC,MAAM,CAAC,EAAE,MACzDC,OAAO,CAAC,EAFK,KAES,SAASC,EAAWC,EAAO5B,EAAM6B,EAAGC,EAAGC,GAAM,IAAIC,EAASD,EAAKE,MAAMC,gBAAoBC,EAAYJ,EAAKE,MAAMG,OAAWC,EAAWN,EAAKO,MAAUC,EAAaX,EAAOlB,OAAO,KAAKC,KAAK,QAAQ,eAAeA,KAAK,YAAY,aAAaC,OAAOiB,EAAG,MAAMjB,OAAOkB,EAAG,MAC5RU,EAAOD,EAAa7B,OAAO,KAAKC,KAAK,QAAQ,UAC7C8B,EAAInD,EAAgB,IACpBoD,EAIinB,SAAyB1C,EAAMmC,GAAa,OAAO7C,EAAkB,EAT5qB,IASyrBqD,KAAI,SAASC,EAAEC,GAAG,MAAM,CAACC,WAAWC,EAAQvB,EAAiBoB,IAAII,SAAyBD,EAAQvB,EAApByB,KAAJJ,EAAyCD,EAAE,EAA6BA,EAAE,IAAIM,YAAY,EAAEC,YAAYnD,EAAM,GAAGmC,EAAY,MAJh4BiB,CAAgBpD,EAAMmC,GACpCK,EAAO3B,UAAU,cAAcwC,KAAKX,GAAWY,QAAQ5C,OAAO,QAAQC,KAAK,QAAQ,aAAaA,KAAK,IAAI8B,GAAKpC,MAAM,OAAOgC,GAAYhC,MAAM,WAAU,SAASuC,EAAEC,GAAG,MAAO,GAN9J,GAM4KA,KAC1L,IAAIU,EAEmV,SAAyBvD,EAAMmC,GAAa,OAAO7C,EAAkB,EAT9Y,IAS2ZqD,KAAI,SAASC,EAAEC,GAAG,MAAM,CAACC,WAAWC,EAAQvB,EAAiBoB,IAAII,SAAyBD,EAAQvB,EAApByB,KAAJJ,EAAyCD,EAAE,EAA6BA,EAAE,IAAIM,YAAY,EAAEC,YAAYnD,EAAM,GAAGmC,MAFtlBqB,CAAgBxD,EAAMmC,GACpCK,EAAO3B,UAAU,cAAcwC,KAAKE,GAAWD,QAAQ5C,OAAO,QAAQC,KAAK,QAAQ,aAAaA,KAAK,IAAI8B,GAAKpC,MAAM,OAAOgC,GAAYhC,MAAM,WAAU,SAASuC,EAAEC,GAAG,OAAO,EAR9J,GAQ0KA,KAAKL,EAAO9B,OAAO,QAAQC,KAAK,KAAK,GAAGA,KAAK,KAAK,GAAGA,KAAK,KAAK,GAAGA,KAAK,OAAOX,EAAM,GAAGmC,EAAYnC,EAAM,MAAMK,MAAM,SAASgC,GAAYhC,MAAM,eAAe,KACvV,IAAIoD,EAAUnE,EAAkB,GAAQ,SAAcoE,GAAS,IAAIC,EAAeD,EAAQ,IAAK1B,EAAa4B,EAAUtE,EAAwB,IAAImC,MAAM,CAAC,EAAE,IAAIC,OAAO,CAAC,EAAEM,IAAWQ,EAAOnC,MAAM,YAAY,UAAUO,QAAQgD,EAAUD,GAAgB,UAAarE,EAAmB,EAAE,WAAWuE,SAASJ,EAAUK,UAAS,OAAOvB,EACzU,SAASQ,EAAQgB,GAAS,OAAOA,GAASC,KAAKC,GAAG,KAElD,IAAIC,EAAWpF,EAAoB,KAGkgB,SAASqF,EAAmBnE,EAAME,EAAOkE,EAAMC,GAAQ,OAAOH,EAA0B,IAAIE,MAAMA,GAAOC,OAAO,CAACA,EAAOC,EAAED,EAAOE,IAAIC,UAAU,CAACxE,EAAM,EAAEE,EAAO,IAAK,SAASuE,EAAkBzE,EAAME,GAEntB,OAFovBF,EAAME,EA5BlwB,KA4BszBF,EA5BtzB,KA4B4zBE,GAExzB,IAUnB,IAAIY,EAAO,SAAgB4D,EAAKC,GAAO,IAAI5E,EAAM4E,EAAMD,GAAS3E,IAAOA,EAAMe,SAAS6D,EAAMD,GAAM,OAAQ,SAASE,EAAgBC,EAAQrE,GAAY,IAAIR,EAAMQ,EAAWR,MAAME,EAAOM,EAAWN,OAAW4E,EAAazD,EAAerB,GAAWoE,EAAMK,EAAkBzE,EAAME,EAAO4E,GAAc,GAAkB,QAAfD,EAAQE,KAAa,CAAC,IAAIC,EAAgBH,EAAQI,OAA6E,OAAOd,EAAmBnE,EAAME,EAAO4E,EAAjGE,EAAgBE,YAA0Gd,EAAvFY,EAAgBX,QAA2F,OAN/R,SAA8Bc,EAAeC,EAAgBC,EAAeC,GAAiB,IAAIC,EAAeJ,EAAeC,EAAoBI,EAAWH,EAAeC,EAAgB,OAAO,SAASG,GAAM,IAAIC,EAAMhG,OAAOqB,EAA+B,EAAtCrB,CAAyC+F,EAAK,GAAGnB,EAAEoB,EAAM,GAAGnB,EAAEmB,EAAM,GAAqO,MAAM,CAA/NH,EAAeC,EAAWlB,EAAEe,EAAeD,EAAgBI,EAAWlB,EAAEe,EAAeF,EAAwBI,EAAeC,EAAWjB,EAAEe,EAAgBF,EAAgBb,EAAEe,GAAiBH,EAAeK,KAMpNG,CAAqB3F,EAAME,EAAO4E,EAAaD,EAAQe,MAAMC,KAAK7F,MAAM6E,EAAQe,MAAMC,KAAK3F,QAE9lB,IAAI4F,EAA6B,WAAW,SAASC,EAAQC,EAAI1F,GAASZ,OAAOV,EAAgC,EAAvCU,CAA0CjB,KAAKsH,GAAStH,KAAKuH,IAAIA,EAAIvH,KAAK6B,QAAQA,EAAQ7B,KAAKwH,aAAQ,EAAOxH,KAAKyH,YAAO,EAAOzH,KAAK0H,cAAS,EAAO1H,KAAK2H,eAAU,EAAO3H,KAAK4H,yBAAoB,EAAO5H,KAAK6H,sBAAiB,EAAO7H,KAAK8H,qBAAgB,EAAO9H,KAAK+H,uBAAkB,EAAO/H,KAAKgI,oBAAe,EAAOhI,KAAKwH,QAAQ,GAAGxH,KAAKyH,OAAO,GAAGzH,KAAK0H,SAAS,GAIuZ,OAJnZzG,OAAOT,EAA6B,EAApCS,CAAuCqG,EAAQ,CAAC,CAACjG,IAAI,aAAaC,MAAM,SAAoB2G,GAAS,IAAIC,EAAW3F,EAA0B,EAAE0F,EAAQA,EAAQE,QAAQR,WAAW3H,KAAK2H,UAAUO,EAAWE,SAASC,QAAO,SAASC,GAAS,MAAoB,QAAbA,EAAQC,QAAiB,CAAClH,IAAI,OAAOC,MAAM,SAAc2E,GAAM,IAAI3C,EAAKtD,KAAKuH,IAAIiB,MAAMC,SAASxC,GAAM,GAAI3C,EAAJ,CAExxB,IAAIvB,EAAW/B,KAAK6B,QAAQG,gBAAoBT,EAAMQ,EAAWR,MAAqEmH,EAAjDvC,EAAgBnG,KAAKuH,IAAInB,QAAQrE,EAA2B4G,CAAUrF,EAAKsF,UAAUC,EAAY5H,OAAOqB,EAA+B,EAAtCrB,CAAyCyH,EAAW,GAAGtF,EAAGyF,EAAY,GAAGxF,EAAGwF,EAAY,GAC1Q9E,EAAOb,EAAWlD,KAAK6H,iBAAiBtG,EAAM6B,EAAGC,EAAGC,GAAMtD,KAAKwH,QAAQvB,GAAMlC,EAAO,IAAI+E,EAvC5F,SAAmB9H,EAAGO,EAAM+B,GAAM,IAAIyF,EAAYzF,EAAK0F,SAAaC,EAAS3F,EAAK4F,UAAUC,MAAMC,MAAUd,EAAQhF,EAAKgF,QAAY1E,EAAWN,EAAKO,MAAUiF,EAAM9H,EAAGiB,OAAO,KAASoH,EAAU1G,EAAapB,GAAW+H,EAAuC/H,EAJjM,IAI4MsB,EAAgBL,EAAmBjB,GAAWuB,EAAWJ,EAAcnB,GAI5B,OAJwDuH,EAAM7G,OAAO,aAAaC,KAAK,QAAQmH,GAAWnH,KAAK,SAASmH,GAAWnH,KAAK,IAAI6G,EAAYM,GAAWnH,KAAK,IAAI,GAAGN,MAAM,SAAS,SAASM,KAAK,aAAa+G,GAChhBH,EAAM7G,OAAO,QAAQC,KAAK,QAAQmH,GAAWnH,KAAK,SAASY,GAAYZ,KAAK,IAAI6G,EAAYM,GAAWnH,KAAK,IAAImH,EAAUxG,GAAiBjB,MAAM,OAAOgC,GAE5G,SAAc2F,EAAYC,GACtE,IAAIC,EAAOC,SAASC,eAAeH,GAAQ,GAAIC,EAAkF,IAAlE,IAAIG,EAAWH,EAAOI,UAAUtI,MAAUuI,EAAKP,EAAYO,OAAaF,EAAWP,EAA4B,EAAlBC,GAAqBQ,EAAKC,OAAO,GAAGD,EAAKA,EAAKE,MAAM,GAAG,GAAGT,EAAYO,KAAKA,EAAK,OAAOF,EAAWH,EAAOI,UAAUtI,MAAQ0I,CAFvQnB,EAAM7G,OAAO,QAAQC,KAAK,KAAK,cAAc6G,GAAa7G,KAAK,IAAI6G,EAAYM,EAAUC,GAAmBpH,KAAK,IAAImH,EAAUxG,EAAgBC,EAAW,GAAGZ,KAAK,KAAK,UAAUN,MAAM,YAFgK,SAE1IkI,KAAKxB,GAChN,cAAcS,GAC8RD,EAmC5NoB,CAAUlK,KAAK8H,gBAAgBvG,EAAM+B,GAAMtD,KAAKyH,OAAOxB,GAAM6C,EAAM,IAAIqB,EATzK,SAAqBhH,EAAOV,EAAaW,EAAGC,EAAGC,GAAM,IAAI8G,EAAGzH,EAAaF,IAAea,EAAK0F,SAAS,IAAkBqB,EAAGjH,EAAOkH,EAAGjH,EAAOkH,EAAEhF,KAAKiF,KAAKjF,KAAKkF,IAAIJ,EAAGD,EAAG,GAAG7E,KAAKkF,IAAIH,EAAjE,EAAuE,IAAQI,EAAEH,EAAE,GAAOI,EAAKpF,KAAKqF,MAAMN,EAA1G,GAAiHC,GAAOM,EAAY,CAAC,CAAChF,EAAEuE,EAAGtE,EAA3I,GAAiJ,CAACD,EAAEuE,GAAIC,EAAGD,GAAI,EAAEM,EAAEnF,KAAKuF,IAAIvF,KAAKC,GAAGmF,GAAM7E,EAA1L,GAAgMwE,EAAhM,GAAuM,EAAEI,EAAEnF,KAAKwF,IAAIxF,KAAKC,GAAGmF,IAAO,CAAC9E,EAAEwE,EAAGvE,EAAEwE,IAASU,EAAKnK,EAAiB,IAAIgF,GAAE,SAAS1B,GAAG,OAAOA,EAAE0B,KAAKC,GAAE,SAAS3B,GAAG,OAAOA,EAAE2B,KAAKmF,MAAMpK,EAAuB,GAAgL,OAAjKsC,EAAOlB,OAAO,QAAQiJ,MAAML,GAAa3I,KAAK,IAAI8I,GAAMpJ,MAAM,SAAS0B,EAAKO,OAAOjC,MAAM,mBAAmB,QAAQA,MAAM,OAAO,QAAQA,MAAM,eAAe,GASjduJ,CAAYnL,KAAK+H,kBAAkBxG,EAAM6B,EAAGC,EAAGC,GAAMtD,KAAK0H,SAASzB,GAAMkE,EAP1P,SAAoBhH,EAAOiI,EAAYhI,EAAGC,EAAGO,EAAWF,GAAa,IAAI2H,EAAY9F,KAAK+F,MAAMF,EAAY,GAAG1H,GAAoC6H,EAAO1K,EAAkB,EAAEwK,EAAnC,KAA+EG,EAAKrI,EAAOlB,OAAO,UAAUC,KAAK,KAAKkB,GAAIlB,KAAK,KAAKmB,GAAInB,KAAK,IAAI,GAAGN,MAAM,OAAO,QAAQA,MAAM,SAASgC,GAAY2H,EAAOE,SAAQ,SAASnL,EAAE8D,GAAG,IAAuBsH,EAAN,EAAA,EAA4CpL,EAA9R,IAA2SkL,EAAKG,aAAapI,SAArP,IAAwQqI,MAAxQ,GAA8QxH,GAAYlC,KAAK,IAAI5B,GAAGsB,MAAM,eAAe8J,GAAaG,GAAG,OAAM,SAAS1H,EAAEC,EAAE0H,GAAcC,MAAJzL,GAAiBwL,EAAM1H,GAAG/B,eAOnV2J,CAAWhM,KAAKgI,eAAezG,EAAM6B,EAAGC,EAAGC,MAAS,CAACjC,IAAI,OAAOC,MAAM,SAAc2E,GAAM5D,EAAO4D,EAAKjG,KAAKwH,SAASnF,EAAO4D,EAAKjG,KAAKyH,QAAQpF,EAAO4D,EAAKjG,KAAK0H,YAAa,CAACrG,IAAI,YAAYC,MAAM,SAAmBC,EAAME,GAC7dzB,KAAKiM,UAAW,CAAC5K,IAAI,QAAQC,MAAM,WAAiBtB,KAAK6B,QAAQT,QAAQpB,KAAK6B,QAAQV,YAAY,IAZ5EW,EAAUP,EAAME,EAAOwH,EAYyDlH,EAAW/B,KAAK6B,QAAQG,gBAAoBkK,EAAgBnK,EAAWR,MAAU8E,EAAazD,EAAesJ,GAAqBC,EAAiBpK,EAAWN,OAAO4E,EAAiBnF,EAAIlB,KAAK6B,QAAQX,IAAIlB,KAAK4H,oBAAoBwE,EAAYlL,EAAI,aAAamF,GAAcrG,KAAK8H,gBAAgBsE,EAAYlL,EAAI,SAAS,GAAGlB,KAAK+H,kBAAkBqE,EAAYlL,EAAI,WAAWmF,GAAcrG,KAAK6H,iBAAiBuE,EAAYlL,EAAI,UAAUmF,GAAcrG,KAAKgI,eAAeoE,EAAYlL,EAAI,QAAQmF,GAAyC,QAAxBrG,KAAKuH,IAAInB,QAAQE,KAlBlnB,SAAiBxE,EAAU6F,EAAUpG,EAAME,EAAO2E,GAAS,IAAIK,EAAYL,EAAQI,OAAOC,YAAgBb,EAAOQ,EAAQI,OAAOZ,OAAqD+C,EAAUjD,EAAmBnE,EAAME,EAAvEuE,EAAkBzE,EAAME,GAA4DgF,EAAYb,GAAYyG,EAAKxL,EAAoB,IAAIyL,WAAW3D,GAAW7G,EAAUM,UAAU,cAAcwC,KAAK+C,GAAW9C,QAAQ5C,OAAO,QAAQC,KAAK,MAAK,SAASiC,GAAG,MAAM,UAAUhC,OAAOgC,EAAEoE,OAAOrG,KAAK,QAAQ,aAAaA,KAAK,IAAImK,GAAMzK,MAAM,SAAS,WAAWA,MAAM,eAAe,IAAKA,MAAM,OAAO,WAkBuG2K,CAAQvM,KAAK4H,oBAAoB5H,KAAK2H,UAAUuE,EAAgBC,EAAiBnM,KAAKuH,IAAInB,UAZpsBtE,EAY6tB9B,KAAK4H,oBAZxtBrG,EAY4uB2K,EAZtuBzK,EAYsvB0K,EAZ/uBlD,EAYgwBjJ,KAAKuH,IAAInB,QAAQe,MAAMqF,IAZ7wB1K,EAAUG,OAAO,aAAaC,KAAK,aAAa+G,GAAU/G,KAAK,IAAI,GAAGA,KAAK,IAAI,GAAGA,KAAK,QAAQX,GAAOW,KAAK,SAAST,GAAQS,KAAK,sBAAsB,sBAYwoBoF,EAJlzB,GAI8zB,SAAS8E,EAAYlL,EAAIqH,EAAG9G,GAAQ,OAAOP,EAAIe,OAAO,KAAKC,KAAK,KAAKqG,GAAIrG,KAAK,YAAY,gBAAgBC,OAAOV,EAAO,MAE37BpB,EAAoB8D,EAAE/D,EAAqB,iBAAiB,WAAa,OAAOqM,KAC/G,IAAIA,EAAmC,WAAW,SAASC,EAAcC,EAAS3L,GAAI,IAAI4L,EAAM5M,KAAKiB,OAAOV,EAAgC,EAAvCU,CAA0CjB,KAAK0M,GAAe1M,KAAK6B,aAAQ,EAAO7B,KAAKoG,aAAQ,EAAOpG,KAAK6M,UAAU,GAAG7M,KAAK6B,QAAQ,IAAIf,EAAgBE,GAAIhB,KAAKoG,QAAQ,IAAIiB,EAAgBsF,EAAS3M,KAAK6B,SAA65B,SAAsB8K,EAASvG,GAAS,MAA2B,QAAxBuG,EAASvG,QAAQE,KAAqBwG,MAAMH,EAASvG,QAAQI,OAAOgG,KAAKO,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASnI,GAAM,OAAOwB,EAAQ8G,WAAWtI,MAASmI,MAAK,WAAW,OAAO3G,MAAiBA,EAAQ6F,QAAekB,QAAQC,QAAQhH,IAAhsCiH,CAAaV,EAAS3M,KAAKoG,SAAS2G,MAAK,WAAWH,EAAMC,UAAU5M,KApE9X,SAA2BqN,EAAQC,GAAU,IAAIC,EAAkB9M,GAAAA,CAA0B6M,EAAS,KAASE,EAAe,IAAI7M,EAAmC,GAAE,SAAS8M,GAAS,GAAIC,MAAMC,QAAQF,IACvMA,EAAQ3D,OAAZ,CAA4B,IAAI8D,EAAMH,EAAQ,GAAOnM,EAAMsM,EAAMC,YAAYvM,MAAUE,EAAOoM,EAAMC,YAAYrM,OAAO+L,EAAkBjM,EAAME,OAA2C,OAAhCgM,EAAeM,QAAQT,GAAgB,WAAW,OAAOG,EAAeO,UAAUV,IAmEuJW,CAAkBjN,GAAG,SAASO,EAAME,GAAQmL,EAAMxG,QAAQ8H,UAAU3M,EAAME,UAAwuB,OAAxtBR,OAAOT,EAA6B,EAApCS,CAAuCyL,EAAc,CAAC,CAACrL,IAAI,YAAYC,MAAM,SAAmB6M,GAAQnO,KAAKoG,QAAQgI,KAAKD,KAAW,CAAC9M,IAAI,WAAWC,MAAM,SAAkB6M,GAAQnO,KAAKoG,QAAQiI,KAAKF,KAAW,CAAC9M,IAAI,SAASC,MAAM,WAAkB,IAAIgN,GAA0B,EAASC,GAAkB,EAAUC,OAAeC,EAAU,IAAI,IAAI,IAAgDC,EAA5CC,EAAU3O,KAAK6M,UAAU+B,OAAOC,cAAoBP,GAA2BI,EAAMC,EAAUG,QAAQC,MAAMT,GAA0B,EAAK,CAAC,IAAIU,EAAON,EAAMpN,MAAM0N,KAAW,MAAMC,GAAKV,GAAkB,EAAKC,EAAeS,EAAK,QAAQ,IAAQX,GAA6C,MAAlBK,EAAUO,QAAcP,EAAUO,SAAW,QAAQ,GAAGX,EAAmB,MAAMC,QAA8B9B,EAArpC\"}","code":"(this[\"webpackJsonpatpls-player\"]=this[\"webpackJsonpatpls-player\"]||[]).push([[4],{846:function(t,e,n){\"use strict\";n.r(e);var i=n(2),r=n(3),a=n(842),s=n.n(a),o=n(843);var c=n(742),u=function(){function t(e){Object(i.a)(this,t),this.el=void 0,this.svg=void 0,this.el=e,this.createSvg(),this.clear()}return Object(r.a)(t,[{key:\"getDimensions\",value:function(){return{width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:\"setVisible\",value:function(t){this.el.style.display=t?\"block\":\"none\"}},{key:\"createSvg\",value:function(){var t=Object(c.g)(this.el),e=this.getDimensions();return this.svg=t.append(\"svg\").attr(\"width\",e.width).attr(\"height\",e.height).attr(\"viewBox\",\"0 0 \".concat(e.width,\" \").concat(e.height)),this.svg}},{key:\"clear\",value:function(){Object(c.g)(this.el).selectAll(\"*\").remove()}}]),t}(),l=n(10),h=n(844);function d(t){return t/450}function v(t){return t/50}function f(t){return t/8}function p(t){var e=d(t),n=v(t);return f(t)+e+n}var y=c.f().range([0,360]).domain([0,36]);function g(t,e,n,i,r){var a=r.audio.durationSeconds,s=r.audio.volume,o=r.color,u=t.append(\"g\").attr(\"class\",\"circleGroup\").attr(\"transform\",\"translate(\".concat(n,\", \").concat(i,\")\")),l=u.append(\"g\").attr(\"class\",\"circle\"),h=c.a(),d=function(t,e){return c.e(36).map((function(n,i){return{startAngle:m(y(n)),endAngle:m(y(35===i?n+1:n+2)),innerRadius:0,outerRadius:t/30*e*2}}))}(e,s);l.selectAll(\".outerArcs\").data(d).enter().append(\"path\").attr(\"class\",\"outerArcs\").attr(\"d\",h).style(\"fill\",o).style(\"opacity\",(function(t,e){return.3/36*e}));var v=function(t,e){return c.e(36).map((function(n,i){return{startAngle:m(y(n)),endAngle:m(y(35===i?n+1:n+2)),innerRadius:0,outerRadius:t/30*e}}))}(e,s);l.selectAll(\".innerArcs\").data(v).enter().append(\"path\").attr(\"class\",\"innerArcs\").attr(\"d\",h).style(\"fill\",o).style(\"opacity\",(function(t,e){return 1/36*e})),l.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",0).attr(\"y2\",-(e/30*s+e/350)).style(\"stroke\",o).style(\"stroke-width\",1.5);var f=c.h((function(t){var e=t/1e3%a,n=c.f().range([1,0]).domain([0,a]);l.style(\"transform\",\"rotate(\".concat(-n(e),\"turn)\")),c.g(\".circle\").empty()&&f.stop()}));return u}function m(t){return t*(Math.PI/180)}var w=n(847);function k(t,e,n,i){return w.a().scale(n).center([i.x,i.y]).translate([t/2,e/2])}function b(t,e){return(t/e<2.12?t:2.12*e)/5.9}var x=function(t,e){var n=e[t];n&&(n.remove(),e[t]=null)};function C(t,e){var n=e.width,i=e.height,r=p(n),a=b(n,i-r);if(\"map\"===t.mode){var s=t.geomap;return k(n,i-r,s.scaleFactor*a,s.center)}return function(t,e,n,i){var r=t/e,a=n/i;return function(s){var o=Object(l.a)(s,2),c=o[0],u=o[1];return[r>a?c/n*e*a:c/n*t,r>a?u/i*e:u/i*(t/a)]}}(n,i-r,t.image.size.width,t.image.size.height)}var A=function(){function t(e,n){Object(i.a)(this,t),this.set=e,this.display=n,this.circles=void 0,this.albums=void 0,this.refLines=void 0,this.countries=void 0,this.backgroundContainer=void 0,this.circlesContainer=void 0,this.albumsContainer=void 0,this.refLinesContainer=void 0,this.wavesContainer=void 0,this.circles={},this.albums={},this.refLines={}}return Object(r.a)(t,[{key:\"setGeodata\",value:function(t){var e=h.a(t,t.objects.countries);this.countries=e.features.filter((function(t){return\"010\"!==t.id}))}},{key:\"show\",value:function(t){var e=this.set.index.clipById[t];if(e){var n=this.display.getDimensions(),i=n.width,r=C(this.set.visuals,n)(e.position),a=Object(l.a)(r,2),s=a[0],o=a[1],u=g(this.circlesContainer,i,s,o,e);this.circles[t]=u;var h=function(t,e,n){var i=n.trackNum,r=n.resources.cover.small,a=n.country,s=n.color,o=t.append(\"g\"),c=f(e),u=e/300,l=d(e),h=v(e);return o.append(\"svg:image\").attr(\"width\",c).attr(\"height\",c).attr(\"x\",i*c).attr(\"y\",0).style(\"stroke\",\"white\").attr(\"xlink:href\",r),o.append(\"rect\").attr(\"width\",c).attr(\"height\",h).attr(\"x\",i*c).attr(\"y\",c+l).style(\"fill\",s),function(t,e){var n=document.getElementById(e);if(n)for(var i=n.getBBox().width,r=t.text();i>c-2*u&&r.length>0;)r=r.slice(0,-1),t.text(r+\"...\"),i=n.getBBox().width}(o.append(\"text\").attr(\"id\",\"countryText\"+i).attr(\"x\",i*c+u).attr(\"y\",c+l+h/2).attr(\"dy\",\"0.35em\").style(\"font-size\",\"1.1vw\").text(a),\"countryText\"+i),o}(this.albumsContainer,i,e);this.albums[t]=h;var p=function(t,e,n,i,r){var a=f(e)*(r.trackNum+.5),s=n,o=i,u=Math.sqrt(Math.pow(s-a,2)+Math.pow(o-0,2)),l=u/10,h=Math.acos((o-0)/u),d=[{x:a,y:0},{x:a+(s-a)/2+l*Math.cos(Math.PI-h),y:0+(o-0)/2+l*Math.sin(Math.PI-h)},{x:s,y:o}],v=c.d().x((function(t){return t.x})).y((function(t){return t.y})).curve(c.b);return t.append(\"path\").datum(d).attr(\"d\",v).style(\"stroke\",r.color).style(\"stroke-dasharray\",\"2, 3\").style(\"fill\",\"none\").style(\"stroke-width\",2)}(this.refLinesContainer,i,s,o,e);this.refLines[t]=p,function(t,e,n,i,r,a){var s=Math.floor(e/30*a),o=c.e(s,150),u=t.append(\"circle\").attr(\"cx\",n).attr(\"cy\",i).attr(\"r\",0).style(\"fill\",\"none\").style(\"stroke\",r);o.forEach((function(t,e){var n=2-2*t/150;u.transition().duration(20).delay(20*e).attr(\"r\",t).style(\"stroke-width\",n).on(\"end\",(function(e,n,i){149===t&&i[n].remove()}))}))}(this.wavesContainer,i,s,o,e)}}},{key:\"hide\",value:function(t){x(t,this.circles),x(t,this.albums),x(t,this.refLines)}},{key:\"resizeSvg\",value:function(t,e){this.setup()}},{key:\"setup\",value:function(){this.display.clear(),this.display.createSvg();var t,e,n,i,r=this.display.getDimensions(),a=r.width,s=p(a),o=r.height-s,u=this.display.svg;this.backgroundContainer=j(u,\"background\",s),this.albumsContainer=j(u,\"albums\",0),this.refLinesContainer=j(u,\"refLines\",s),this.circlesContainer=j(u,\"circles\",s),this.wavesContainer=j(u,\"waves\",s),\"map\"===this.set.visuals.mode?function(t,e,n,i,r){var a=r.geomap.scaleFactor,s=r.geomap.center,o=k(n,i,b(n,i)*a,s),u=c.c().projection(o);t.selectAll(\".countries\").data(e).enter().append(\"path\").attr(\"id\",(function(t){return\"country\".concat(t.id)})).attr(\"class\",\"countries\").attr(\"d\",u).style(\"stroke\",\"#2c2c2c\").style(\"stroke-width\",.5).style(\"fill\",\"#888888\")}(this.backgroundContainer,this.countries,a,o,this.set.visuals):(t=this.backgroundContainer,e=a,n=o,i=this.set.visuals.image.url,t.append(\"svg:image\").attr(\"xlink:href\",i).attr(\"x\",0).attr(\"y\",0).attr(\"width\",e).attr(\"height\",n).attr(\"preserveAspectRatio\",\"xMinYMin meet\"))}}]),t}();function j(t,e,n){return t.append(\"g\").attr(\"id\",e).attr(\"transform\",\"translate(0, \".concat(n,\")\"))}n.d(e,\"VisualControl\",(function(){return M}));var M=function(){function t(e,n){var r=this;Object(i.a)(this,t),this.display=void 0,this.visuals=void 0,this.detachers=[],this.display=new u(n),this.visuals=new A(e,this.display),function(t,e){return\"map\"===t.visuals.mode?fetch(t.visuals.geomap.url).then((function(t){return t.json()})).then((function(t){return e.setGeodata(t)})).then((function(){return e})):(e.setup(),Promise.resolve(e))}(e,this.visuals).then((function(){r.detachers.push(function(t,e){var n=s()(e,250),i=new o.a((function(t){if(Array.isArray(t)&&t.length){var e=t[0],i=e.contentRect.width,r=e.contentRect.height;n(i,r)}}));return i.observe(t),function(){return i.unobserve(t)}}(n,(function(t,e){r.visuals.resizeSvg(t,e)})))}))}return Object(r.a)(t,[{key:\"startClip\",value:function(t){this.visuals.show(t)}},{key:\"stopClip\",value:function(t){this.visuals.hide(t)}},{key:\"detach\",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.detachers[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;a()}}catch(s){e=!0,n=s}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}}]),t}()}}]);","extractedComments":[]}