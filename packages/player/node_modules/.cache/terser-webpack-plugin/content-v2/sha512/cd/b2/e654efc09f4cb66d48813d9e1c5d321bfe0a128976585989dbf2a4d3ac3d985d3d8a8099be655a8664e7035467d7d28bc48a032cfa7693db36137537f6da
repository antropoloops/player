{"map":"{\"version\":3,\"sources\":[\"static/js/4.6fabdfb6.chunk.js\"],\"names\":[\"window\",\"push\",\"63\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"classCallCheck\",\"createClass\",\"lodash\",\"slicedToArray\",\"topojson\",\"ALBUMSCOUNT\",\"WORLDRATIO\",\"getVerticalPadding\",\"visualsWidth\",\"getInfoHeight\",\"getCoverSize\",\"getAlbumHeight\",\"verticalPadding\",\"infoHeight\",\"d3\",\"NUMSLICES\",\"degreesFromSlice\",\"range\",\"domain\",\"drawCircle\",\"parent\",\"width\",\"cx\",\"cy\",\"clip\",\"duration\",\"audio\",\"durationSeconds\",\"trackVolume\",\"volume\",\"trackColor\",\"color\",\"circlesGroup\",\"append\",\"attr\",\"concat\",\"circle\",\"arc\",\"outerArcs\",\"map\",\"d\",\"i\",\"startAngle\",\"deg2rad\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"createOuterArcs\",\"selectAll\",\"data\",\"enter\",\"style\",\"innerArcs\",\"createInnerArcs\",\"turnTimer\",\"elapsed\",\"elapsedSeconds\",\"turnScale\",\"empty\",\"stop\",\"degrees\",\"Math\",\"PI\",\"src\",\"createMapProjector\",\"height\",\"scale\",\"center\",\"x\",\"y\",\"translate\",\"calculateMapScale\",\"remove\",\"name\",\"group\",\"value\",\"createProjector\",\"visuals\",\"dimensions\",\"albumsHeight\",\"mode\",\"_visuals$geomap\",\"geomap\",\"scaleFactor\",\"containerWidth\",\"containerHeight\",\"realImageWidth\",\"realImageHeight\",\"containerRatio\",\"imageRatio\",\"_ref\",\"_ref2\",\"Object\",\"createPanelProjector\",\"image\",\"size\",\"visuals_Visuals\",\"Visuals\",\"set\",\"display\",\"this\",\"circles\",\"albums\",\"refLines\",\"countries\",\"backgroundContainer\",\"circlesContainer\",\"albumsContainer\",\"refLinesContainer\",\"wavesContainer\",\"key\",\"geodata\",\"collection\",\"objects\",\"features\",\"filter\",\"country\",\"id\",\"setup\",\"index\",\"clipById\",\"_this$display$dimensi\",\"_projector\",\"projector\",\"position\",\"_projector2\",\"album\",\"el\",\"trackNumber\",\"trackNum\",\"imageUrl\",\"resources\",\"cover\",\"small\",\"coverSize\",\"horizontalPadding\",\"textElement\",\"textId\",\"danger\",\"document\",\"getElementById\",\"textLength\",\"getBBox\",\"text\",\"length\",\"slice\",\"wrap\",\"drawAlbum\",\"refLine\",\"x1\",\"x2\",\"y2\",\"h\",\"sqrt\",\"pow\",\"a\",\"alfa\",\"acos\",\"curveCoords\",\"cos\",\"sin\",\"line\",\"curve\",\"datum\",\"drawRefLine\",\"screenWidth\",\"firstRadius\",\"floor\",\"radius\",\"wave\",\"forEach\",\"strokeWidth\",\"transition\",\"delay\",\"on\",\"nodes\",\"lastRadius\",\"createWave\",\"clear\",\"createSvg\",\"container\",\"backgroundWidth\",\"backgroundHeight\",\"svg\",\"createGroup\",\"path\",\"projection\",\"drawMap\",\"url\",\"display_Display\",\"Display\",\"offsetWidth\",\"offsetHeight\",\"isVisible\",\"visuals_VisualControl\",\"createVisuals\",\"VisualControl\",\"audioset\",\"_this\",\"handleResize\",\"fetch\",\"then\",\"response\",\"json\",\"setGeodata\",\"setupVisuals\",\"resizeSvg\",\"addEventListener\",\"clipId\",\"show\",\"hide\",\"removeEventListener\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonpatpls-player\"]=window[\"webpackJsonpatpls-player\"]||[]).push([[4],{63:function(t,e,i){\"use strict\";i.r(e);var n=i(2),s=i(4),r=i(59),a=i(10),o=i(62),c=8,u=2.12;function l(t){return t/450}function h(t){return t/50}function d(t){return t/c}function v(t){var e=l(t),i=h(t);return d(t)+e+i}var f=i(56),p=36,y=f.f().range([0,360]).domain([0,p]);function g(t,e,i,n,s){var r=s.audio.durationSeconds,a=s.audio.volume,o=s.color,c=t.append(\"g\").attr(\"class\",\"circleGroup\").attr(\"transform\",\"translate(\".concat(i,\", \").concat(n,\")\")),u=c.append(\"g\").attr(\"class\",\"circle\"),l=f.a(),h=function(t,e){return f.e(p).map((function(i,n){return{startAngle:m(y(i)),endAngle:m(y(n===p-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e*2}}))}(e,a);u.selectAll(\".outerArcs\").data(h).enter().append(\"path\").attr(\"class\",\"outerArcs\").attr(\"d\",l).style(\"fill\",o).style(\"opacity\",(function(t,e){return.3/p*e}));var d=function(t,e){return f.e(p).map((function(i,n){return{startAngle:m(y(i)),endAngle:m(y(n===p-1?i+1:i+2)),innerRadius:0,outerRadius:t/30*e}}))}(e,a);u.selectAll(\".innerArcs\").data(d).enter().append(\"path\").attr(\"class\",\"innerArcs\").attr(\"d\",l).style(\"fill\",o).style(\"opacity\",(function(t,e){return 1/p*e})),u.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",0).attr(\"y2\",-(e/30*a+e/350)).style(\"stroke\",o).style(\"stroke-width\",1.5);var v=f.h((function(t){var e=t/1e3%r,i=f.f().range([1,0]).domain([0,r]);u.style(\"transform\",\"rotate(\".concat(-i(e),\"turn)\")),f.g(\".circle\").empty()&&v.stop()}));return c}function m(t){return t*(Math.PI/180)}var w=i(61);function k(t,e,i,n){return w.a().scale(i).center([n.x,n.y]).translate([t/2,e/2])}function b(t,e){return(t/e<u?t:e*u)/5.9}var x=function(t,e){var i=e[t];i&&(i.remove(),e[t]=null)};function C(t,e){var i=e.width,n=e.height,s=v(i),r=b(i,n-s);if(\"map\"===t.mode){var o=t.geomap;return k(i,n-s,o.scaleFactor*r,o.center)}return function(t,e,i,n){var s=t/e,r=i/n;return function(o){var c=Object(a.a)(o,2),u=c[0],l=c[1];return[s>r?u/i*e*r:u/i*t,s>r?l/n*e:l/n*(t/r)]}}(i,n-s,t.image.size.width,t.image.size.height)}var j=function(){function t(e,i){Object(n.a)(this,t),this.set=e,this.display=i,this.circles=void 0,this.albums=void 0,this.refLines=void 0,this.countries=void 0,this.backgroundContainer=void 0,this.circlesContainer=void 0,this.albumsContainer=void 0,this.refLinesContainer=void 0,this.wavesContainer=void 0,this.circles={},this.albums={},this.refLines={}}return Object(s.a)(t,[{key:\"setGeodata\",value:function(t){var e=o.a(t,t.objects.countries);this.countries=e.features.filter((function(t){return\"010\"!==t.id})),this.setup()}},{key:\"show\",value:function(t){var e=this.set.index.clipById[t];if(e){var i=this.display.dimensions,n=i.width,s=(i.height,v(n),C(this.set.visuals,this.display.dimensions)(e.position)),r=Object(a.a)(s,2),o=r[0],c=r[1],u=g(this.circlesContainer,n,o,c,e);this.circles[t]=u;var p=function(t,e,i){var n=i.trackNum,s=i.resources.cover.small,r=i.country,a=i.color,o=t.append(\"g\"),c=d(e),u=e/300,v=l(e),f=h(e);return o.append(\"svg:image\").attr(\"width\",c).attr(\"height\",c).attr(\"x\",n*c).attr(\"y\",0).style(\"stroke\",\"white\").attr(\"xlink:href\",s),o.append(\"rect\").attr(\"width\",c).attr(\"height\",f).attr(\"x\",n*c).attr(\"y\",c+v).style(\"fill\",a),function(t,e){var i=document.getElementById(e);if(i)for(var n=i.getBBox().width,s=t.text();n>c-2*u&&s.length>0;)s=s.slice(0,-1),t.text(s+\"...\"),n=i.getBBox().width}(o.append(\"text\").attr(\"id\",\"countryText\"+n).attr(\"x\",n*c+u).attr(\"y\",c+v+f/2).attr(\"dy\",\"0.35em\").style(\"font-size\",\"1.1vw\").text(r),\"countryText\"+n),o}(this.albumsContainer,n,e);this.albums[t]=p;var y=function(t,e,i,n,s){var r=d(e)*(s.trackNum+.5),a=i,o=n,c=Math.sqrt(Math.pow(a-r,2)+Math.pow(o-0,2)),u=c/10,l=Math.acos((o-0)/c),h=[{x:r,y:0},{x:r+(a-r)/2+u*Math.cos(Math.PI-l),y:0+(o-0)/2+u*Math.sin(Math.PI-l)},{x:a,y:o}],v=f.d().x((function(t){return t.x})).y((function(t){return t.y})).curve(f.b);return t.append(\"path\").datum(h).attr(\"d\",v).style(\"stroke\",s.color).style(\"stroke-dasharray\",\"2, 3\").style(\"fill\",\"none\").style(\"stroke-width\",2)}(this.refLinesContainer,n,o,c,e);this.refLines[t]=y,function(t,e,i,n,s,r){var a=Math.floor(e/30*r),o=f.e(a,150),c=t.append(\"circle\").attr(\"cx\",i).attr(\"cy\",n).attr(\"r\",0).style(\"fill\",\"none\").style(\"stroke\",s);o.forEach((function(t,e){var i=2-2*t/150;c.transition().duration(20).delay(20*e).attr(\"r\",t).style(\"stroke-width\",i).on(\"end\",(function(e,i,n){149===t&&n[i].remove()}))}))}(this.wavesContainer,n,o,c,e)}}},{key:\"hide\",value:function(t){x(t,this.circles),x(t,this.albums),x(t,this.refLines)}},{key:\"resizeSvg\",value:function(){this.setup()}},{key:\"setup\",value:function(){this.display.clear(),this.display.createSvg();var t,e,i,n,s=this.display.dimensions.width,r=v(s),a=this.display.dimensions.height-r,o=this.display.svg;this.backgroundContainer=A(o,\"background\",r),this.albumsContainer=A(o,\"albums\",0),this.refLinesContainer=A(o,\"refLines\",r),this.circlesContainer=A(o,\"circles\",r),this.wavesContainer=A(o,\"waves\",r),\"map\"===this.set.visuals.mode?function(t,e,i,n,s){var r=s.geomap.scaleFactor,a=s.geomap.center,o=k(i,n,b(i,n)*r,a),c=f.c().projection(o);t.selectAll(\".countries\").data(e).enter().append(\"path\").attr(\"id\",(function(t){return\"country\".concat(t.id)})).attr(\"class\",\"countries\").attr(\"d\",c).style(\"stroke\",\"#2c2c2c\").style(\"stroke-width\",.5).style(\"fill\",\"#888888\")}(this.backgroundContainer,this.countries,s,a,this.set.visuals):(t=this.backgroundContainer,e=s,i=a,n=this.set.visuals.image.url,t.append(\"svg:image\").attr(\"xlink:href\",n).attr(\"x\",0).attr(\"y\",0).attr(\"width\",e).attr(\"height\",i).attr(\"preserveAspectRatio\",\"xMinYMin meet\"))}}]),t}();function A(t,e,i){return t.append(\"g\").attr(\"id\",e).attr(\"transform\",\"translate(0, \".concat(i,\")\"))}var M=function(){function t(e){Object(n.a)(this,t),this.el=void 0,this.dimensions=void 0,this.svg=void 0,this.el=e,this.dimensions={width:this.el.offsetWidth,height:this.el.offsetHeight},this.createSvg(),this.clear()}return Object(s.a)(t,[{key:\"setVisible\",value:function(t){this.el.style.display=t?\"block\":\"none\"}},{key:\"createSvg\",value:function(){var t=Object(f.g)(this.el);return this.svg=t.append(\"svg\").attr(\"width\",this.dimensions.width).attr(\"height\",this.dimensions.height).attr(\"viewBox\",\"0 0 \".concat(this.dimensions.width,\" \").concat(this.dimensions.height)),this.svg}},{key:\"clear\",value:function(){Object(f.g)(this.el).selectAll(\"*\").remove()}}]),t}();i.d(e,\"VisualControl\",(function(){return O})),i.d(e,\"createVisuals\",(function(){return L}));var O=function(){function t(e,i){var s=this;Object(n.a)(this,t),this.audioset=e,this.el=i,this.display=void 0,this.visuals=void 0,this.handleResize=void 0,this.display=new M(i),this.visuals=new j(e,this.display),function(t,e){\"map\"===t.visuals.mode?fetch(t.visuals.geomap.url).then((function(t){return t.json()})).then((function(t){return e.setGeodata(t)})):e.setup()}(e,this.visuals),this.handleResize=Object(r.debounce)((function(){s.visuals.resizeSvg()})),window.addEventListener(i,this.handleResize)}return Object(s.a)(t,[{key:\"startClip\",value:function(t){this.visuals.show(t)}},{key:\"stopClip\",value:function(t){this.visuals.hide(t)}},{key:\"detach\",value:function(){window.removeEventListener(this.el,this.handleResize)}}]),t}();function L(){}}}]);","extractedComments":[]}