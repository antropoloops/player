{"map":"{\"version\":3,\"sources\":[\"static/js/7.6c9bbe6b.chunk.js\"],\"names\":[\"this\",\"push\",\"864\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"classCallCheck\",\"createClass\",\"browser\",\"browser_default\",\"n\",\"lodash_debounce\",\"lodash_debounce_default\",\"ResizeObserver_es\",\"slicedToArray\",\"topojson\",\"getVerticalPadding\",\"visualsWidth\",\"getInfoHeight\",\"getCoverSize\",\"getAlbumHeight\",\"verticalPadding\",\"infoHeight\",\"d3\",\"display_Display\",\"Display\",\"el\",\"Object\",\"svg\",\"createSvg\",\"clear\",\"key\",\"value\",\"width\",\"offsetWidth\",\"height\",\"offsetHeight\",\"isVisible\",\"style\",\"display\",\"container\",\"dimensions\",\"getDimensions\",\"append\",\"attr\",\"concat\",\"selectAll\",\"remove\",\"degreesFromSlice\",\"range\",\"domain\",\"drawCircle\",\"parent\",\"cx\",\"cy\",\"clip\",\"duration\",\"audio\",\"durationSeconds\",\"trackVolume\",\"volume\",\"trackColor\",\"color\",\"circlesGroup\",\"circle\",\"arc\",\"outerArcs\",\"map\",\"d\",\"i\",\"startAngle\",\"deg2rad\",\"endAngle\",\"NUMSLICES\",\"innerRadius\",\"outerRadius\",\"createOuterArcs\",\"data\",\"enter\",\"innerArcs\",\"createInnerArcs\",\"turnTimer\",\"elapsed\",\"elapsedSeconds\",\"turnScale\",\"empty\",\"stop\",\"degrees\",\"Math\",\"PI\",\"robinson\",\"createMapProjector\",\"scale\",\"center\",\"x\",\"y\",\"translate\",\"calculateMapScale\",\"name\",\"group\",\"createProjector\",\"visuals\",\"albumsHeight\",\"mode\",\"_visuals$geomap\",\"geomap\",\"scaleFactor\",\"containerWidth\",\"containerHeight\",\"realImageWidth\",\"realImageHeight\",\"containerRatio\",\"imageRatio\",\"_ref\",\"_ref2\",\"createPanelProjector\",\"image\",\"size\",\"visuals_Visuals\",\"Visuals\",\"set\",\"circles\",\"albums\",\"refLines\",\"countries\",\"backgroundContainer\",\"circlesContainer\",\"albumsContainer\",\"refLinesContainer\",\"wavesContainer\",\"geodata\",\"collection\",\"objects\",\"features\",\"filter\",\"country\",\"id\",\"index\",\"clipById\",\"_projector\",\"projector\",\"position\",\"_projector2\",\"album\",\"trackNumber\",\"trackNum\",\"imageUrl\",\"resources\",\"cover\",\"small\",\"coverSize\",\"horizontalPadding\",\"textElement\",\"textId\",\"danger\",\"document\",\"getElementById\",\"textLength\",\"getBBox\",\"text\",\"length\",\"slice\",\"wrap\",\"drawAlbum\",\"refLine\",\"x1\",\"x2\",\"y2\",\"h\",\"sqrt\",\"pow\",\"a\",\"alfa\",\"acos\",\"curveCoords\",\"cos\",\"sin\",\"line\",\"curve\",\"datum\",\"drawRefLine\",\"screenWidth\",\"firstRadius\",\"floor\",\"radius\",\"wave\",\"forEach\",\"strokeWidth\",\"transition\",\"delay\",\"on\",\"nodes\",\"lastRadius\",\"createWave\",\"setup\",\"backgroundWidth\",\"backgroundHeight\",\"createGroup\",\"path\",\"projection\",\"drawMap\",\"url\",\"createVisualEffects\",\"log\",\"audioset\",\"VisualEffects_VisualEffects\",\"VisualEffects\",\"_this\",\"detach\",\"fetch\",\"then\",\"response\",\"json\",\"setGeodata\",\"Promise\",\"resolve\",\"setupVisuals\",\"element\",\"callback\",\"debouncedCallback\",\"resizeObserver\",\"entries\",\"Array\",\"isArray\",\"entry\",\"contentRect\",\"observe\",\"unobserve\",\"addResizeObserver\",\"resizeSvg\",\"command\",\"show\",\"clipId\",\"hide\"],\"mappings\":\"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\"}","code":"(this[\"webpackJsonpatpls-player\"]=this[\"webpackJsonpatpls-player\"]||[]).push([[7],{864:function(t,e,i){\"use strict\";i.r(e);var n=i(15),r=i(16),a=i(29),s=i.n(a),o=i(847),c=i.n(o),u=i(848);var l=i(26),h=i(849);function d(t){return t/450}function v(t){return t/50}function f(t){return t/8}function p(t){var e=d(t),i=v(t);return f(t)+e+i}var y=i(41),g=function(){function t(e){Object(n.a)(this,t),this.el=void 0,this.svg=void 0,this.el=e,this.createSvg(),this.clear()}return Object(r.a)(t,[{key:\"getDimensions\",value:function(){return{width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:\"setVisible\",value:function(t){this.el.style.display=t?\"block\":\"none\"}},{key:\"createSvg\",value:function(){var t=Object(y.g)(this.el),e=this.getDimensions();return this.svg=t.append(\"svg\").attr(\"width\",e.width).attr(\"height\",e.height).attr(\"viewBox\",\"0 0 \".concat(e.width,\" \").concat(e.height)),this.svg}},{key:\"clear\",value:function(){Object(y.g)(this.el).selectAll(\"*\").remove()}}]),t}();var m=y.f().range([0,360]).domain([0,36]);function w(t,e,i,n,r){var a=r.audio.durationSeconds,s=r.audio.volume,o=r.color,c=t.append(\"g\").attr(\"class\",\"circleGroup\").attr(\"transform\",\"translate(\".concat(i,\", \").concat(n,\")\")),u=c.append(\"g\").attr(\"class\",\"circle\"),l=y.a(),h=function(t,e){return y.e(36).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(35===n?i+1:i+2)),innerRadius:0,outerRadius:t/30*e*2}}))}(e,s);u.selectAll(\".outerArcs\").data(h).enter().append(\"path\").attr(\"class\",\"outerArcs\").attr(\"d\",l).style(\"fill\",o).style(\"opacity\",(function(t,e){return.3/36*e}));var d=function(t,e){return y.e(36).map((function(i,n){return{startAngle:k(m(i)),endAngle:k(m(35===n?i+1:i+2)),innerRadius:0,outerRadius:t/30*e}}))}(e,s);u.selectAll(\".innerArcs\").data(d).enter().append(\"path\").attr(\"class\",\"innerArcs\").attr(\"d\",l).style(\"fill\",o).style(\"opacity\",(function(t,e){return 1/36*e})),u.append(\"line\").attr(\"x1\",0).attr(\"y1\",0).attr(\"x2\",0).attr(\"y2\",-(e/30*s+e/350)).style(\"stroke\",o).style(\"stroke-width\",1.5);var v=y.h((function(t){var e=t/1e3%a,i=y.f().range([1,0]).domain([0,a]);u.style(\"transform\",\"rotate(\".concat(-i(e),\"turn)\")),y.g(\".circle\").empty()&&v.stop()}));return c}function k(t){return t*(Math.PI/180)}var b=i(866);function x(t,e,i,n){return b.a().scale(i).center([n.x,n.y]).translate([t/2,e/2])}function C(t,e){return(t/e<2.12?t:2.12*e)/5.9}var A=function(t,e){var i=e[t];i&&(i.remove(),e[t]=null)};function j(t,e){var i=e.width,n=e.height,r=p(i),a=C(i,n-r);if(\"map\"===t.mode){var s=t.geomap;return x(i,n-r,s.scaleFactor*a,s.center)}return function(t,e,i,n){var r=t/e,a=i/n;return function(s){var o=Object(l.a)(s,2),c=o[0],u=o[1];return[r>a?c/i*e*a:c/i*t,r>a?u/n*e:u/n*(t/a)]}}(i,n-r,t.image.size.width,t.image.size.height)}var M=function(){function t(e,i){Object(n.a)(this,t),this.set=e,this.circles=void 0,this.albums=void 0,this.refLines=void 0,this.countries=void 0,this.backgroundContainer=void 0,this.circlesContainer=void 0,this.albumsContainer=void 0,this.refLinesContainer=void 0,this.wavesContainer=void 0,this.display=void 0,this.display=new g(i),this.circles={},this.albums={},this.refLines={}}return Object(r.a)(t,[{key:\"setGeodata\",value:function(t){var e=h.a(t,t.objects.countries);this.countries=e.features.filter((function(t){return\"010\"!==t.id}))}},{key:\"show\",value:function(t){var e=this.set.index.clipById[t];if(e){var i=this.display.getDimensions(),n=i.width,r=j(this.set.visuals,i)(e.position),a=Object(l.a)(r,2),s=a[0],o=a[1],c=w(this.circlesContainer,n,s,o,e);this.circles[t]=c;var u=function(t,e,i){var n=i.trackNum,r=i.resources.cover.small,a=i.country,s=i.color,o=t.append(\"g\"),c=f(e),u=e/300,l=d(e),h=v(e);return o.append(\"svg:image\").attr(\"width\",c).attr(\"height\",c).attr(\"x\",n*c).attr(\"y\",0).style(\"stroke\",\"white\").attr(\"xlink:href\",r),o.append(\"rect\").attr(\"width\",c).attr(\"height\",h).attr(\"x\",n*c).attr(\"y\",c+l).style(\"fill\",s),function(t,e){var i=document.getElementById(e);if(i)for(var n=i.getBBox().width,r=t.text();n>c-2*u&&r.length>0;)r=r.slice(0,-1),t.text(r+\"...\"),n=i.getBBox().width}(o.append(\"text\").attr(\"id\",\"countryText\"+n).attr(\"x\",n*c+u).attr(\"y\",c+l+h/2).attr(\"dy\",\"0.35em\").style(\"font-size\",\"1.1vw\").text(a),\"countryText\"+n),o}(this.albumsContainer,n,e);this.albums[t]=u;var h=function(t,e,i,n,r){var a=f(e)*(r.trackNum+.5),s=i,o=n,c=Math.sqrt(Math.pow(s-a,2)+Math.pow(o-0,2)),u=c/10,l=Math.acos((o-0)/c),h=[{x:a,y:0},{x:a+(s-a)/2+u*Math.cos(Math.PI-l),y:0+(o-0)/2+u*Math.sin(Math.PI-l)},{x:s,y:o}],d=y.d().x((function(t){return t.x})).y((function(t){return t.y})).curve(y.b);return t.append(\"path\").datum(h).attr(\"d\",d).style(\"stroke\",r.color).style(\"stroke-dasharray\",\"2, 3\").style(\"fill\",\"none\").style(\"stroke-width\",2)}(this.refLinesContainer,n,s,o,e);this.refLines[t]=h,function(t,e,i,n,r,a){var s=Math.floor(e/30*a),o=y.e(s,150),c=t.append(\"circle\").attr(\"cx\",i).attr(\"cy\",n).attr(\"r\",0).style(\"fill\",\"none\").style(\"stroke\",r);o.forEach((function(t,e){var i=2-2*t/150;c.transition().duration(20).delay(20*e).attr(\"r\",t).style(\"stroke-width\",i).on(\"end\",(function(e,i,n){149===t&&n[i].remove()}))}))}(this.wavesContainer,n,s,o,e)}}},{key:\"hide\",value:function(t){A(t,this.circles),A(t,this.albums),A(t,this.refLines)}},{key:\"resizeSvg\",value:function(t,e){this.setup()}},{key:\"setup\",value:function(){this.display.clear(),this.display.createSvg();var t,e,i,n,r=this.display.getDimensions(),a=r.width,s=p(a),o=r.height-s,c=this.display.svg;this.backgroundContainer=O(c,\"background\",s),this.albumsContainer=O(c,\"albums\",0),this.refLinesContainer=O(c,\"refLines\",s),this.circlesContainer=O(c,\"circles\",s),this.wavesContainer=O(c,\"waves\",s),\"map\"===this.set.visuals.mode?this.countries&&function(t,e,i,n,r){var a=r.geomap.scaleFactor,s=r.geomap.center,o=x(i,n,C(i,n)*a,s),c=y.c().projection(o);t.selectAll(\".countries\").data(e).enter().append(\"path\").attr(\"id\",(function(t){return\"country\".concat(t.id)})).attr(\"class\",\"countries\").attr(\"d\",c).style(\"stroke\",\"#2c2c2c\").style(\"stroke-width\",.5).style(\"fill\",\"#888888\")}(this.backgroundContainer,this.countries,a,o,this.set.visuals):(t=this.backgroundContainer,e=a,i=o,n=this.set.visuals.image.url,t.append(\"svg:image\").attr(\"xlink:href\",n).attr(\"x\",0).attr(\"y\",0).attr(\"width\",e).attr(\"height\",i).attr(\"preserveAspectRatio\",\"xMinYMin meet\"))}}]),t}();function O(t,e,i){return t.append(\"g\").attr(\"id\",e).attr(\"transform\",\"translate(0, \".concat(i,\")\"))}i.d(e,\"createVisualEffects\",(function(){return B}));var L=s()(\"atpls:visuals\");function B(t){return new I(t)}var I=function(){function t(e){Object(n.a)(this,t),this.audioset=e,this.visuals=void 0}return Object(r.a)(t,[{key:\"attach\",value:function(t){var e=this;this.detach(),this.visuals=new M(this.audioset,t),function(t,e){return\"map\"===t.visuals.mode?(i=t.visuals.geomap.url,L(\"Geomap url %s\",i),fetch(i).then((function(t){return t.json()}))).then((function(t){return e.setGeodata(t)})).then((function(){return e})):(e.setup(),Promise.resolve(e));var i}(this.audioset,this.visuals);this.detach=function(t,e){var i=c()(e,250),n=new u.a((function(t){if(Array.isArray(t)&&t.length){var e=t[0],n=e.contentRect.width,r=e.contentRect.height;i(n,r)}}));return n.observe(t),function(){return n.unobserve(t)}}(t,(function(t,i){e.visuals&&e.visuals.resizeSvg(t,i)}))}},{key:\"detach\",value:function(){}},{key:\"run\",value:function(t){if(this.visuals)switch(t.command){case\"startClip\":return this.visuals.show(t.clipId);case\"stopClip\":return this.visuals.hide(t.clipId)}}}]),t}()}}]);","extractedComments":[]}