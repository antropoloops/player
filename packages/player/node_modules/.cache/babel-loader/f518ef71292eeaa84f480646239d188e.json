{"ast":null,"code":"import { createAudioset } from \"../../audioset\";\nconst PRODUCTION = `https://antropoloops-production.s3.eu-west-3.amazonaws.com/files`;\nconst STAGING = `https://play-admin.antropoloops.com/api/1.0/index`;\n\nconst getProductionUrl = idOrUrl => idOrUrl.endsWith(\".json\") ? idOrUrl : `${PRODUCTION}/${idOrUrl}.audioset.json`;\n\nconst getStaginUrl = idOrUrl => idOrUrl.endsWith(\".json\") ? idOrUrl : idOrUrl === \"index\" ? STAGING : `${STAGING}/${idOrUrl}`;\n\nconst getUrl = process.env.NODE_ENV === \"development\" ? getStaginUrl : getProductionUrl;\nexport function fetchAudioset(idOrUrl) {\n  console.log(\"JODER\", idOrUrl);\n  if (idOrUrl === \"index\") return Promise.resolve(JSON.parse(INDEX)).then(createAudioset);\n  return fetch(getUrl(idOrUrl)).then(r => r.json()).then(createAudioset);\n}\nconst INDEX = `\n{\n  \"id\": \"home\",\n  \"format\": \"atpls-audioset\",\n  \"last_updated_at\": 1587945600.0,\n  \"type\": \"project\",\n  \"meta\": {\n      \"readme\": \"<p><strong>play/antropoloops</strong> es una herramienta online de remezcla musical desarrollada para el \\u00e1mbito educativo. Puedes explorar y tocar sets musicales creados en los talleres antropoloops.</p>\\r\\n\\r\\n<p>La WebApp est\\u00e1 pensada para crear remezclas musicales en el aula usando el teclado del ordenador. Te permite trabajar con 8 pistas de sonido y situar loops en mapas e im\\u00e1genes. Esta es una versi\\u00f3n beta inicial.</p>\\r\\n\\r\\n<p>Puedes conectarle dispositivos como el <strong><a href=\\\"https://makeymakey.com/\\\">Makey Makey</a></strong> y construirte tus propias interfaces para remezclar m\\u00fasica de manera colectiva con el cuerpo.</p>\\r\\n\\r\\n<div class=\\\"videodetector\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://player.vimeo.com/video/387914968?portrait=0\\\"></iframe><input class=\\\"remove-videodetector\\\" type=\\\"button\\\" value=\\\"Remove video\\\" /></div>\",\n      \"path\": \"home\",\n      \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/themes/image_processing20190524-4-16en8ok_LG2Ej4l.jpg\",\n      \"description\": \"antropoloops\",\n      \"title\": \"Home\",\n      \"parent_path\": \"\"\n  },\n  \"version\": \"2.0.0\",\n  \"audiosets\": [\n      {\n          \"id\": 3,\n          \"publish_path\": \"6-continentes\",\n          \"description\": \"Sessi\\u00f3n Talleres Antropoloops 01\",\n          \"title\": \"6 Continentes\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/e65851436119ed7d9b422735ccfc7bc7_YTeXWMs.png\"\n      },\n      {\n          \"id\": 3,\n          \"publish_path\": \"historias-remix\",\n          \"description\": \"Remezclas de historias de vida musicales / CEIP San Jos\\u00e9 Obrero\",\n          \"title\": \"Historias remix\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/projects/47e1669951541eea26a6890f337a0793_EXNlhmE.jpg\"\n      },\n      {\n          \"id\": 7,\n          \"publish_path\": \"profesolario-musical-sanjomix\",\n          \"description\": \"Set musical sobre or\\u00edgenes familiares profesorado\",\n          \"title\": \"Profesolario musical SANJOMIX\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/4f972171041ccb0f7160093ad2945386_Cqc7QmK.jpg\"\n      },\n      {\n          \"id\": 6,\n          \"publish_path\": \"istan-shaw-ville\",\n          \"description\": \"Collective remix piece Istanbul/Warshaw/Seville\",\n          \"title\": \"Istan-shaw-ville\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/cbba1402adcffdb9e5fcb38d15c9c4e6_Ufiggr2.jpg\"\n      },\n      {\n          \"id\": 8,\n          \"publish_path\": \"lacasaencendida2020\",\n          \"description\": \"6 continentes, 6 colegios y 6 talleres\",\n          \"title\": \"LaCasaEncendida2020\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/e3d1b584773f7399740669a06114e0de_HNNaIp9.jpg\"\n      }\n  ]\n}`;","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/lib/fetchAudioset.ts"],"names":["createAudioset","PRODUCTION","STAGING","getProductionUrl","idOrUrl","endsWith","getStaginUrl","getUrl","process","env","NODE_ENV","fetchAudioset","console","log","Promise","resolve","JSON","parse","INDEX","then","fetch","r","json"],"mappings":"AAAA,SAAiBA,cAAjB,QAAuC,gBAAvC;AAEA,MAAMC,UAAU,GAAI,kEAApB;AACA,MAAMC,OAAO,GAAI,mDAAjB;;AAEA,MAAMC,gBAAgB,GAAIC,OAAD,IACvBA,OAAO,CAACC,QAAR,CAAiB,OAAjB,IACID,OADJ,GAEK,GAAEH,UAAW,IAAGG,OAAQ,gBAH/B;;AAKA,MAAME,YAAY,GAAIF,OAAD,IACnBA,OAAO,CAACC,QAAR,CAAiB,OAAjB,IACID,OADJ,GAEIA,OAAO,KAAK,OAAZ,GACAF,OADA,GAEC,GAAEA,OAAQ,IAAGE,OAAQ,EAL5B;;AAOA,MAAMG,MAAM,GACVC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCJ,YAAzC,GAAwDH,gBAD1D;AAGA,OAAO,SAASQ,aAAT,CAAuBP,OAAvB,EAAyD;AAC9DQ,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,OAArB;AACA,MAAIA,OAAO,KAAK,OAAhB,EACE,OAAOU,OAAO,CAACC,OAAR,CAAgBC,IAAI,CAACC,KAAL,CAAWC,KAAX,CAAhB,EAAmCC,IAAnC,CAAwCnB,cAAxC,CAAP;AAEF,SAAOoB,KAAK,CAACb,MAAM,CAACH,OAAD,CAAP,CAAL,CACJe,IADI,CACCE,CAAC,IAAIA,CAAC,CAACC,IAAF,EADN,EAEJH,IAFI,CAECnB,cAFD,CAAP;AAGD;AAED,MAAMkB,KAAK,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAf","sourcesContent":["import { Bundle, createAudioset } from \"../../audioset\";\n\nconst PRODUCTION = `https://antropoloops-production.s3.eu-west-3.amazonaws.com/files`;\nconst STAGING = `https://play-admin.antropoloops.com/api/1.0/index`;\n\nconst getProductionUrl = (idOrUrl: string) =>\n  idOrUrl.endsWith(\".json\")\n    ? idOrUrl\n    : `${PRODUCTION}/${idOrUrl}.audioset.json`;\n\nconst getStaginUrl = (idOrUrl: string) =>\n  idOrUrl.endsWith(\".json\")\n    ? idOrUrl\n    : idOrUrl === \"index\"\n    ? STAGING\n    : `${STAGING}/${idOrUrl}`;\n\nconst getUrl =\n  process.env.NODE_ENV === \"development\" ? getStaginUrl : getProductionUrl;\n\nexport function fetchAudioset(idOrUrl: string): Promise<Bundle> {\n  console.log(\"JODER\", idOrUrl);\n  if (idOrUrl === \"index\")\n    return Promise.resolve(JSON.parse(INDEX)).then(createAudioset);\n\n  return fetch(getUrl(idOrUrl))\n    .then(r => r.json())\n    .then(createAudioset);\n}\n\nconst INDEX = `\n{\n  \"id\": \"home\",\n  \"format\": \"atpls-audioset\",\n  \"last_updated_at\": 1587945600.0,\n  \"type\": \"project\",\n  \"meta\": {\n      \"readme\": \"<p><strong>play/antropoloops</strong> es una herramienta online de remezcla musical desarrollada para el \\u00e1mbito educativo. Puedes explorar y tocar sets musicales creados en los talleres antropoloops.</p>\\r\\n\\r\\n<p>La WebApp est\\u00e1 pensada para crear remezclas musicales en el aula usando el teclado del ordenador. Te permite trabajar con 8 pistas de sonido y situar loops en mapas e im\\u00e1genes. Esta es una versi\\u00f3n beta inicial.</p>\\r\\n\\r\\n<p>Puedes conectarle dispositivos como el <strong><a href=\\\"https://makeymakey.com/\\\">Makey Makey</a></strong> y construirte tus propias interfaces para remezclar m\\u00fasica de manera colectiva con el cuerpo.</p>\\r\\n\\r\\n<div class=\\\"videodetector\\\"><iframe frameborder=\\\"0\\\" src=\\\"https://player.vimeo.com/video/387914968?portrait=0\\\"></iframe><input class=\\\"remove-videodetector\\\" type=\\\"button\\\" value=\\\"Remove video\\\" /></div>\",\n      \"path\": \"home\",\n      \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/themes/image_processing20190524-4-16en8ok_LG2Ej4l.jpg\",\n      \"description\": \"antropoloops\",\n      \"title\": \"Home\",\n      \"parent_path\": \"\"\n  },\n  \"version\": \"2.0.0\",\n  \"audiosets\": [\n      {\n          \"id\": 3,\n          \"publish_path\": \"6-continentes\",\n          \"description\": \"Sessi\\u00f3n Talleres Antropoloops 01\",\n          \"title\": \"6 Continentes\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/e65851436119ed7d9b422735ccfc7bc7_YTeXWMs.png\"\n      },\n      {\n          \"id\": 3,\n          \"publish_path\": \"historias-remix\",\n          \"description\": \"Remezclas de historias de vida musicales / CEIP San Jos\\u00e9 Obrero\",\n          \"title\": \"Historias remix\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/projects/47e1669951541eea26a6890f337a0793_EXNlhmE.jpg\"\n      },\n      {\n          \"id\": 7,\n          \"publish_path\": \"profesolario-musical-sanjomix\",\n          \"description\": \"Set musical sobre or\\u00edgenes familiares profesorado\",\n          \"title\": \"Profesolario musical SANJOMIX\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/4f972171041ccb0f7160093ad2945386_Cqc7QmK.jpg\"\n      },\n      {\n          \"id\": 6,\n          \"publish_path\": \"istan-shaw-ville\",\n          \"description\": \"Collective remix piece Istanbul/Warshaw/Seville\",\n          \"title\": \"Istan-shaw-ville\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/cbba1402adcffdb9e5fcb38d15c9c4e6_Ufiggr2.jpg\"\n      },\n      {\n          \"id\": 8,\n          \"publish_path\": \"lacasaencendida2020\",\n          \"description\": \"6 continentes, 6 colegios y 6 talleres\",\n          \"title\": \"LaCasaEncendida2020\",\n          \"logo_url\": \"https://antropoloops-dev.s3.amazonaws.com/media/images/audiosets/e3d1b584773f7399740669a06114e0de_HNNaIp9.jpg\"\n      }\n  ]\n}`;\n"]},"metadata":{},"sourceType":"module"}