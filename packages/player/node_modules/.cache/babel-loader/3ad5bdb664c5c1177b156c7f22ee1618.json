{"ast":null,"code":"function compare(a, b) {\n  return a[1][2] - b[1][2];\n}\n\nexport default function () {\n  var heap = {},\n      array = [],\n      size = 0;\n\n  heap.push = function (object) {\n    up(array[object._ = size] = object, size++);\n    return size;\n  };\n\n  heap.pop = function () {\n    if (size <= 0) return;\n    var removed = array[0],\n        object;\n    if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n    return removed;\n  };\n\n  heap.remove = function (removed) {\n    var i = removed._,\n        object;\n    if (array[i] !== removed) return; // invalid request\n\n    if (i !== --size) object = array[size], (compare(object, removed) < 0 ? up : down)(array[object._ = i] = object, i);\n    return i;\n  };\n\n  function up(object, i) {\n    while (i > 0) {\n      var j = (i + 1 >> 1) - 1,\n          parent = array[j];\n      if (compare(object, parent) >= 0) break;\n      array[parent._ = i] = parent;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  function down(object, i) {\n    while (true) {\n      var r = i + 1 << 1,\n          l = r - 1,\n          j = i,\n          child = array[j];\n      if (l < size && compare(array[l], child) < 0) child = array[j = l];\n      if (r < size && compare(array[r], child) < 0) child = array[j = r];\n      if (j === i) break;\n      array[child._ = i] = child;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  return heap;\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/node_modules/topojson-simplify/src/heap.js"],"names":["compare","a","b","heap","array","size","push","object","up","_","pop","removed","down","remove","i","j","parent","r","l","child"],"mappings":"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","sourcesContent":["function compare(a, b) {\n  return a[1][2] - b[1][2];\n}\n\nexport default function() {\n  var heap = {},\n      array = [],\n      size = 0;\n\n  heap.push = function(object) {\n    up(array[object._ = size] = object, size++);\n    return size;\n  };\n\n  heap.pop = function() {\n    if (size <= 0) return;\n    var removed = array[0], object;\n    if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n    return removed;\n  };\n\n  heap.remove = function(removed) {\n    var i = removed._, object;\n    if (array[i] !== removed) return; // invalid request\n    if (i !== --size) object = array[size], (compare(object, removed) < 0 ? up : down)(array[object._ = i] = object, i);\n    return i;\n  };\n\n  function up(object, i) {\n    while (i > 0) {\n      var j = ((i + 1) >> 1) - 1,\n          parent = array[j];\n      if (compare(object, parent) >= 0) break;\n      array[parent._ = i] = parent;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  function down(object, i) {\n    while (true) {\n      var r = (i + 1) << 1,\n          l = r - 1,\n          j = i,\n          child = array[j];\n      if (l < size && compare(array[l], child) < 0) child = array[j = l];\n      if (r < size && compare(array[r], child) < 0) child = array[j = r];\n      if (j === i) break;\n      array[child._ = i] = child;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  return heap;\n}\n"]},"metadata":{},"sourceType":"module"}