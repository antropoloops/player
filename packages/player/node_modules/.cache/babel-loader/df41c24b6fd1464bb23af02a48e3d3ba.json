{"ast":null,"code":"export const createEventTargetConstructor = wrapEventListener => {\n  return class EventTarget {\n    constructor(_nativeEventTarget) {\n      this._nativeEventTarget = _nativeEventTarget;\n      this._listeners = new WeakMap();\n    }\n\n    addEventListener(type, listener, options) {\n      if (listener !== null) {\n        let wrappedEventListener = this._listeners.get(listener);\n\n        if (wrappedEventListener === undefined) {\n          wrappedEventListener = wrapEventListener(this, listener);\n\n          if (typeof listener === 'function') {\n            this._listeners.set(listener, wrappedEventListener);\n          }\n        }\n\n        this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n      }\n    }\n\n    dispatchEvent(event) {\n      return this._nativeEventTarget.dispatchEvent(event);\n    }\n\n    removeEventListener(type, listener, options) {\n      const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n\n      this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n    }\n\n  };\n};","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/node_modules/standardized-audio-context/build/es2018/factories/event-target-constructor.js"],"names":["createEventTargetConstructor","wrapEventListener","EventTarget","constructor","_nativeEventTarget","_listeners","WeakMap","addEventListener","type","listener","options","wrappedEventListener","get","undefined","set","dispatchEvent","event","removeEventListener"],"mappings":"AAAA,OAAO,MAAMA,4BAA4B,GAAIC,iBAAD,IAAuB;AAC/D,SAAO,MAAMC,WAAN,CAAkB;AACrBC,IAAAA,WAAW,CAACC,kBAAD,EAAqB;AAC5B,WAAKA,kBAAL,GAA0BA,kBAA1B;AACA,WAAKC,UAAL,GAAkB,IAAIC,OAAJ,EAAlB;AACH;;AACDC,IAAAA,gBAAgB,CAACC,IAAD,EAAOC,QAAP,EAAiBC,OAAjB,EAA0B;AACtC,UAAID,QAAQ,KAAK,IAAjB,EAAuB;AACnB,YAAIE,oBAAoB,GAAG,KAAKN,UAAL,CAAgBO,GAAhB,CAAoBH,QAApB,CAA3B;;AACA,YAAIE,oBAAoB,KAAKE,SAA7B,EAAwC;AACpCF,UAAAA,oBAAoB,GAAGV,iBAAiB,CAAC,IAAD,EAAOQ,QAAP,CAAxC;;AACA,cAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAChC,iBAAKJ,UAAL,CAAgBS,GAAhB,CAAoBL,QAApB,EAA8BE,oBAA9B;AACH;AACJ;;AACD,aAAKP,kBAAL,CAAwBG,gBAAxB,CAAyCC,IAAzC,EAA+CG,oBAA/C,EAAqED,OAArE;AACH;AACJ;;AACDK,IAAAA,aAAa,CAACC,KAAD,EAAQ;AACjB,aAAO,KAAKZ,kBAAL,CAAwBW,aAAxB,CAAsCC,KAAtC,CAAP;AACH;;AACDC,IAAAA,mBAAmB,CAACT,IAAD,EAAOC,QAAP,EAAiBC,OAAjB,EAA0B;AACzC,YAAMC,oBAAoB,GAAIF,QAAQ,KAAK,IAAd,GAAsBI,SAAtB,GAAkC,KAAKR,UAAL,CAAgBO,GAAhB,CAAoBH,QAApB,CAA/D;;AACA,WAAKL,kBAAL,CAAwBa,mBAAxB,CAA4CT,IAA5C,EAAmDG,oBAAoB,KAAKE,SAA1B,GAAuC,IAAvC,GAA8CF,oBAAhG,EAAsHD,OAAtH;AACH;;AAvBoB,GAAzB;AAyBH,CA1BM","sourcesContent":["export const createEventTargetConstructor = (wrapEventListener) => {\n    return class EventTarget {\n        constructor(_nativeEventTarget) {\n            this._nativeEventTarget = _nativeEventTarget;\n            this._listeners = new WeakMap();\n        }\n        addEventListener(type, listener, options) {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n        dispatchEvent(event) {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n        removeEventListener(type, listener, options) {\n            const wrappedEventListener = (listener === null) ? undefined : this._listeners.get(listener);\n            this._nativeEventTarget.removeEventListener(type, (wrappedEventListener === undefined) ? null : wrappedEventListener, options);\n        }\n    };\n};\n//# sourceMappingURL=/build/es2018/factories/event-target-constructor.js.map"]},"metadata":{},"sourceType":"module"}