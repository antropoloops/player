{"ast":null,"code":"import { getAudioContext } from \"../AudioContext\";\nexport class TimeManager {\n  constructor() {\n    this.context = void 0;\n    this.playingClipsCount = 0;\n    this.startedAt = 0;\n    getAudioContext().then(ctx => this.context = ctx);\n  }\n\n  startTime(time) {\n    if (this.playingClipsCount === 0) {\n      this.startedAt = time;\n    }\n\n    this.playingClipsCount += 1;\n\n    if (this.playingClipsCount === 0) {\n      this.startedAt = 0;\n    }\n\n    return time;\n  }\n\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/player/Control/TimeManager.ts"],"names":["getAudioContext","TimeManager","constructor","context","playingClipsCount","startedAt","then","ctx","startTime","time"],"mappings":"AAAA,SAASA,eAAT,QAAgC,iBAAhC;AAEA,OAAO,MAAMC,WAAN,CAAkB;AAKvBC,EAAAA,WAAW,GAAG;AAAA,SAJdC,OAIc;AAAA,SAHJC,iBAGI,GAHwB,CAGxB;AAAA,SAFJC,SAEI,GAFgB,CAEhB;AACZL,IAAAA,eAAe,GAAGM,IAAlB,CAAuBC,GAAG,IAAK,KAAKJ,OAAL,GAAeI,GAA9C;AACD;;AAEMC,EAAAA,SAAP,CAAiBC,IAAjB,EAA+B;AAC7B,QAAI,KAAKL,iBAAL,KAA2B,CAA/B,EAAkC;AAChC,WAAKC,SAAL,GAAiBI,IAAjB;AACD;;AACD,SAAKL,iBAAL,IAA0B,CAA1B;;AACA,QAAI,KAAKA,iBAAL,KAA2B,CAA/B,EAAkC;AAChC,WAAKC,SAAL,GAAiB,CAAjB;AACD;;AACD,WAAOI,IAAP;AACD;;AAlBsB","sourcesContent":["import { getAudioContext } from \"../AudioContext\";\n\nexport class TimeManager {\n  context: AudioContext;\n  protected playingClipsCount: number = 0;\n  protected startedAt: number = 0;\n\n  constructor() {\n    getAudioContext().then(ctx => (this.context = ctx));\n  }\n\n  public startTime(time: number) {\n    if (this.playingClipsCount === 0) {\n      this.startedAt = time;\n    }\n    this.playingClipsCount += 1;\n    if (this.playingClipsCount === 0) {\n      this.startedAt = 0;\n    }\n    return time;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}