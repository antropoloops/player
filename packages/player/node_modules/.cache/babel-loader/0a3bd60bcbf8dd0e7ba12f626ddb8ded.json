{"ast":null,"code":"import debug from\"debug\";import{useEffect}from\"react\";var log=debug(\"atpls:useKeyboard\");export function useKeyboardListener(keyboard){useEffect(function(){if(keyboard){return addKeyboardListeners(keyboard);}},[keyboard]);}function addKeyboardListeners(keyboard){log(\"Installing keyboard\");var onKeyDown=function onKeyDown(event){return keyboard.keyDown(event.key);};var onKeyUp=function onKeyUp(event){return keyboard.keyUp(event.key);};window.addEventListener(\"keydown\",onKeyDown);window.addEventListener(\"keyup\",onKeyUp);return function(){log(\"Dispose keyboard\");window.removeEventListener(\"keydown\",onKeyDown);window.removeEventListener(\"keyup\",onKeyUp);};}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/packages/player/src/ui/components/Player/useKeyboardListener.tsx"],"names":["debug","useEffect","log","useKeyboardListener","keyboard","addKeyboardListeners","onKeyDown","event","keyDown","key","onKeyUp","keyUp","window","addEventListener","removeEventListener"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,CAGA,GAAMC,CAAAA,GAAG,CAAGF,KAAK,CAAC,mBAAD,CAAjB,CAEA,MAAO,SAASG,CAAAA,mBAAT,CAA6BC,QAA7B,CAAuE,CAC5EH,SAAS,CAAC,UAAM,CACd,GAAIG,QAAJ,CAAc,CACZ,MAAOC,CAAAA,oBAAoB,CAACD,QAAD,CAA3B,CACD,CACF,CAJQ,CAIN,CAACA,QAAD,CAJM,CAAT,CAKD,CACD,QAASC,CAAAA,oBAAT,CAA8BD,QAA9B,CAA4D,CAC1DF,GAAG,CAAC,qBAAD,CAAH,CAEA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,QAA0BH,CAAAA,QAAQ,CAACI,OAAT,CAAiBD,KAAK,CAACE,GAAvB,CAA1B,EAAlB,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACH,KAAD,QAA0BH,CAAAA,QAAQ,CAACO,KAAT,CAAeJ,KAAK,CAACE,GAArB,CAA1B,EAAhB,CACAG,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCP,SAAnC,EACAM,MAAM,CAACC,gBAAP,CAAwB,OAAxB,CAAiCH,OAAjC,EACA,MAAO,WAAM,CACXR,GAAG,CAAC,kBAAD,CAAH,CACAU,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCR,SAAtC,EACAM,MAAM,CAACE,mBAAP,CAA2B,OAA3B,CAAoCJ,OAApC,EACD,CAJD,CAKD","sourcesContent":["import debug from \"debug\";\nimport { useEffect } from \"react\";\nimport { KeyboardController } from \"../../../player/Control\";\n\nconst log = debug(\"atpls:useKeyboard\");\n\nexport function useKeyboardListener(keyboard: KeyboardController | undefined) {\n  useEffect(() => {\n    if (keyboard) {\n      return addKeyboardListeners(keyboard);\n    }\n  }, [keyboard]);\n}\nfunction addKeyboardListeners(keyboard: KeyboardController) {\n  log(\"Installing keyboard\");\n\n  const onKeyDown = (event: KeyboardEvent) => keyboard.keyDown(event.key);\n  const onKeyUp = (event: KeyboardEvent) => keyboard.keyUp(event.key);\n  window.addEventListener(\"keydown\", onKeyDown);\n  window.addEventListener(\"keyup\", onKeyUp);\n  return () => {\n    log(\"Dispose keyboard\");\n    window.removeEventListener(\"keydown\", onKeyDown);\n    window.removeEventListener(\"keyup\", onKeyUp);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}