{"ast":null,"code":"import _slicedToArray from\"/Users/dani/Antropoloops/atpls-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{player}from\"../../player\";import\"./Controller.css\";import{Track}from\"./Track\";export var Controller=function Controller(_ref){var audioset=_ref.audioset;var state=useControlState();if(!audioset||!audioset.tracks){return React.createElement(React.Fragment,null,\"Audioset not loaded\");}return React.createElement(\"div\",{className:\"Controller\"},audioset.tracks.map(function(track){return React.createElement(Track,{key:track.id,track:track,audioset:audioset,state:state});}));};function useControlState(){var _useState=useState(player.control.getState()),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){return player.onControlStateChanged(function(controlState){setState(controlState);});});return state;}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/Player/Controller.tsx"],"names":["React","useEffect","useState","player","Track","Controller","audioset","state","useControlState","tracks","map","track","id","control","getState","setState","onControlStateChanged","controlState"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,MAAT,KAAuB,cAAvB,CAEA,MAAO,kBAAP,CACA,OAASC,KAAT,KAAsB,SAAtB,CAMA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAmC,IAAhCC,CAAAA,QAAgC,MAAhCA,QAAgC,CAC3D,GAAMC,CAAAA,KAAK,CAAGC,eAAe,EAA7B,CAEA,GAAI,CAACF,QAAD,EAAa,CAACA,QAAQ,CAACG,MAA3B,CAAmC,CACjC,MAAO,+DAAP,CACD,CAED,MACE,4BAAK,SAAS,CAAC,YAAf,EACGH,QAAQ,CAACG,MAAT,CAAgBC,GAAhB,CAAoB,SAAAC,KAAK,QACxB,qBAAC,KAAD,EAAO,GAAG,CAAEA,KAAK,CAACC,EAAlB,CAAsB,KAAK,CAAED,KAA7B,CAAoC,QAAQ,CAAEL,QAA9C,CAAwD,KAAK,CAAEC,KAA/D,EADwB,EAAzB,CADH,CADF,CAOD,CAdM,CAgBP,QAASC,CAAAA,eAAT,EAAyC,eACbN,QAAQ,CAACC,MAAM,CAACU,OAAP,CAAeC,QAAf,EAAD,CADK,wCAChCP,KADgC,eACzBQ,QADyB,eAGvCd,SAAS,CAAC,iBACRE,CAAAA,MAAM,CAACa,qBAAP,CAA6B,SAAAC,YAAY,CAAI,CAC3CF,QAAQ,CAACE,YAAD,CAAR,CACD,CAFD,CADQ,EAAD,CAAT,CAKA,MAAOV,CAAAA,KAAP,CACD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Audioset } from \"../../audioset\";\nimport { player } from \"../../player\";\nimport { ControlState } from \"../../player/AudiosetControl\";\nimport \"./Controller.css\";\nimport { Track } from \"./Track\";\n\ninterface ControllerProps {\n  audioset: Audioset;\n}\n\nexport const Controller = ({ audioset }: ControllerProps) => {\n  const state = useControlState();\n\n  if (!audioset || !audioset.tracks) {\n    return <>Audioset not loaded</>;\n  }\n\n  return (\n    <div className=\"Controller\">\n      {audioset.tracks.map(track => (\n        <Track key={track.id} track={track} audioset={audioset} state={state} />\n      ))}\n    </div>\n  );\n};\n\nfunction useControlState(): ControlState {\n  const [state, setState] = useState(player.control.getState());\n\n  useEffect(() =>\n    player.onControlStateChanged(controlState => {\n      setState(controlState);\n    }),\n  );\n  return state;\n}\n"]},"metadata":{},"sourceType":"module"}