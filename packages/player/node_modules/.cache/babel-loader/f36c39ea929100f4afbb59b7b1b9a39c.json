{"ast":null,"code":"import debug from\"debug\";import React,{useEffect}from\"react\";import{player}from\"../../player\";import{Player as PlayerView}from\"./Player\";var log=debug(\"atpls:player\");export var Player=function Player(props){useEffect(function(){return addKeyboardListeners();});return React.createElement(PlayerView,props);};function addKeyboardListeners(){log(\"Installing keyboard\");var keyboard=player.control.keyboard;var onKeyDown=function onKeyDown(event){return keyboard.keyDown(event.key);};var onKeyUp=function onKeyUp(event){return keyboard.keyUp(event.key);};window.addEventListener(\"keydown\",onKeyDown);window.addEventListener(\"keyup\",onKeyUp);return function(){log(\"Dispose keyboard\");window.removeEventListener(\"keydown\",onKeyDown);window.removeEventListener(\"keyup\",onKeyUp);};}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/Player/index.tsx"],"names":["debug","React","useEffect","player","Player","PlayerView","log","props","addKeyboardListeners","keyboard","control","onKeyDown","event","keyDown","key","onKeyUp","keyUp","window","addEventListener","removeEventListener"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,KAAuB,cAAvB,CACA,OAASC,MAAM,GAAIC,CAAAA,UAAnB,KAAkD,UAAlD,CAEA,GAAMC,CAAAA,GAAG,CAAGN,KAAK,CAAC,cAAD,CAAjB,CAEA,MAAO,IAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACG,KAAD,CAAwB,CAC5CL,SAAS,CAAC,iBAAMM,CAAAA,oBAAoB,EAA1B,EAAD,CAAT,CAEA,MAAO,qBAAC,UAAD,CAAgBD,KAAhB,CAAP,CACD,CAJM,CAMP,QAASC,CAAAA,oBAAT,EAAgC,CAC9BF,GAAG,CAAC,qBAAD,CAAH,CACA,GAAMG,CAAAA,QAAQ,CAAGN,MAAM,CAACO,OAAP,CAAeD,QAAhC,CAEA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,QAA0BH,CAAAA,QAAQ,CAACI,OAAT,CAAiBD,KAAK,CAACE,GAAvB,CAA1B,EAAlB,CACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACH,KAAD,QAA0BH,CAAAA,QAAQ,CAACO,KAAT,CAAeJ,KAAK,CAACE,GAArB,CAA1B,EAAhB,CAEAG,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCP,SAAnC,EACAM,MAAM,CAACC,gBAAP,CAAwB,OAAxB,CAAiCH,OAAjC,EAEA,MAAO,WAAM,CACXT,GAAG,CAAC,kBAAD,CAAH,CACAW,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCR,SAAtC,EACAM,MAAM,CAACE,mBAAP,CAA2B,OAA3B,CAAoCJ,OAApC,EACD,CAJD,CAKD","sourcesContent":["import debug from \"debug\";\nimport React, { useEffect } from \"react\";\nimport { player } from \"../../player\";\nimport { Player as PlayerView, PlayerProps } from \"./Player\";\n\nconst log = debug(\"atpls:player\");\n\nexport const Player = (props: PlayerProps) => {\n  useEffect(() => addKeyboardListeners());\n\n  return <PlayerView {...props} />;\n};\n\nfunction addKeyboardListeners() {\n  log(\"Installing keyboard\");\n  const keyboard = player.control.keyboard;\n\n  const onKeyDown = (event: KeyboardEvent) => keyboard.keyDown(event.key);\n  const onKeyUp = (event: KeyboardEvent) => keyboard.keyUp(event.key);\n\n  window.addEventListener(\"keydown\", onKeyDown);\n  window.addEventListener(\"keyup\", onKeyUp);\n\n  return () => {\n    log(\"Dispose keyboard\");\n    window.removeEventListener(\"keydown\", onKeyDown);\n    window.removeEventListener(\"keyup\", onKeyUp);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}