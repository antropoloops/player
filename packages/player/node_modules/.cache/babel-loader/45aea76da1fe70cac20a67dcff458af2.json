{"ast":null,"code":"export function drawPanel(container, width, height, imageUrl) {\n  container.append(\"svg:image\").attr(\"xlink:href\", imageUrl).attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", width).attr(\"height\", height).attr(\"preserveAspectRatio\", \"xMinYMin meet\");\n}\nexport function createPanelProjector(containerWidth, containerHeight, realImageWidth, realImageHeight) {\n  const containerRatio = containerWidth / containerHeight;\n  const imageRatio = realImageWidth / realImageHeight;\n  return function ([x, y]) {\n    const xPos = containerRatio > imageRatio ? x / realImageWidth * containerHeight * imageRatio : x / realImageWidth * containerWidth;\n    const yPos = containerRatio > imageRatio ? y / realImageHeight * containerHeight : y / realImageHeight * (containerWidth / imageRatio);\n    return [xPos, yPos];\n  };\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/visuals/drawPanel.ts"],"names":["drawPanel","container","width","height","imageUrl","append","attr","createPanelProjector","containerWidth","containerHeight","realImageWidth","realImageHeight","containerRatio","imageRatio","x","y","xPos","yPos"],"mappings":"AAAA,OAAO,SAASA,SAAT,CAAmBC,SAAnB,EAAmCC,KAAnC,EAAkDC,MAAlD,EAAkEC,QAAlE,EAAoF;AACzFH,EAAAA,SAAS,CACNI,MADH,CACU,WADV,EAEGC,IAFH,CAEQ,YAFR,EAEsBF,QAFtB,EAGGE,IAHH,CAGQ,GAHR,EAGa,CAHb,EAIGA,IAJH,CAIQ,GAJR,EAIa,CAJb,EAKGA,IALH,CAKQ,OALR,EAKiBJ,KALjB,EAMGI,IANH,CAMQ,QANR,EAMkBH,MANlB,EAOGG,IAPH,CAOQ,qBAPR,EAO+B,eAP/B;AAQD;AAED,OAAO,SAASC,oBAAT,CACLC,cADK,EAELC,eAFK,EAGLC,cAHK,EAILC,eAJK,EAKL;AACA,QAAMC,cAAc,GAAGJ,cAAc,GAAGC,eAAxC;AACA,QAAMI,UAAU,GAAGH,cAAc,GAAGC,eAApC;AACA,SAAO,UAAS,CAACG,CAAD,EAAIC,CAAJ,CAAT,EAAmC;AACxC,UAAMC,IAAI,GACRJ,cAAc,GAAGC,UAAjB,GACIC,CAAC,GAAGJ,cAAJ,GAAqBD,eAArB,GAAuCI,UAD3C,GAEIC,CAAC,GAAGJ,cAAJ,GAAqBF,cAH3B;AAKA,UAAMS,IAAI,GACRL,cAAc,GAAGC,UAAjB,GACIE,CAAC,GAAGJ,eAAJ,GAAsBF,eAD1B,GAEIM,CAAC,GAAGJ,eAAJ,IAAuBH,cAAc,GAAGK,UAAxC,CAHN;AAIA,WAAO,CAACG,IAAD,EAAOC,IAAP,CAAP;AACD,GAXD;AAYD","sourcesContent":["export function drawPanel(container: any, width: number, height: number, imageUrl: string) {\n  container\n    .append(\"svg:image\")\n    .attr(\"xlink:href\", imageUrl)\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\");\n}\n\nexport function createPanelProjector(\n  containerWidth: number,\n  containerHeight: number,\n  realImageWidth: number,\n  realImageHeight: number,\n) {\n  const containerRatio = containerWidth / containerHeight;\n  const imageRatio = realImageWidth / realImageHeight;\n  return function([x, y]: [number, number]) {\n    const xPos =\n      containerRatio > imageRatio\n        ? x / realImageWidth * containerHeight * imageRatio\n        : x / realImageWidth * containerWidth;\n\n    const yPos =\n      containerRatio > imageRatio\n        ? y / realImageHeight * containerHeight\n        : y / realImageHeight * (containerWidth / imageRatio);\n    return [xPos, yPos];\n  };\n}\n"]},"metadata":{},"sourceType":"module"}