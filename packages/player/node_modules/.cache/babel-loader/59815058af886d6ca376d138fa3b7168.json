{"ast":null,"code":"// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function (arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/node_modules/topojson-server/src/delta.js"],"names":["arcs","i","n","length","arc","j","k","m","point","x0","y0","x1","y1"],"mappings":"AAAA;AACA;AACA;AACA,eAAe,UAASA,IAAT,EAAe;AAC5B,MAAIC,CAAC,GAAG,CAAC,CAAT;AAAA,MACIC,CAAC,GAAGF,IAAI,CAACG,MADb;;AAGA,SAAO,EAAEF,CAAF,GAAMC,CAAb,EAAgB;AACd,QAAIE,GAAG,GAAGJ,IAAI,CAACC,CAAD,CAAd;AAAA,QACII,CAAC,GAAG,CADR;AAAA,QAEIC,CAAC,GAAG,CAFR;AAAA,QAGIC,CAAC,GAAGH,GAAG,CAACD,MAHZ;AAAA,QAIIK,KAAK,GAAGJ,GAAG,CAAC,CAAD,CAJf;AAAA,QAKIK,EAAE,GAAGD,KAAK,CAAC,CAAD,CALd;AAAA,QAMIE,EAAE,GAAGF,KAAK,CAAC,CAAD,CANd;AAAA,QAOIG,EAPJ;AAAA,QAQIC,EARJ;;AAUA,WAAO,EAAEP,CAAF,GAAME,CAAb,EAAgB;AACdC,MAAAA,KAAK,GAAGJ,GAAG,CAACC,CAAD,CAAX,EAAgBM,EAAE,GAAGH,KAAK,CAAC,CAAD,CAA1B,EAA+BI,EAAE,GAAGJ,KAAK,CAAC,CAAD,CAAzC;AACA,UAAIG,EAAE,KAAKF,EAAP,IAAaG,EAAE,KAAKF,EAAxB,EAA4BN,GAAG,CAACE,CAAC,EAAF,CAAH,GAAW,CAACK,EAAE,GAAGF,EAAN,EAAUG,EAAE,GAAGF,EAAf,CAAX,EAA+BD,EAAE,GAAGE,EAApC,EAAwCD,EAAE,GAAGE,EAA7C;AAC7B;;AAED,QAAIN,CAAC,KAAK,CAAV,EAAaF,GAAG,CAACE,CAAC,EAAF,CAAH,GAAW,CAAC,CAAD,EAAI,CAAJ,CAAX,CAhBC,CAgBkB;;AAEhCF,IAAAA,GAAG,CAACD,MAAJ,GAAaG,CAAb;AACD;;AAED,SAAON,IAAP;AACD","sourcesContent":["// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n"]},"metadata":{},"sourceType":"module"}