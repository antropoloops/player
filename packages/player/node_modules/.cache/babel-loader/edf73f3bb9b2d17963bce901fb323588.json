{"ast":null,"code":"/**\n * An unsepecified audioset type\n */\n// export interface AudiosetBundle {\n//   type: \"audioset\" | \"project\";\n//   meta: AudiosetMetadata;\n// }\nexport function isAudiosetBundle(data) {\n  return typeof data === \"object\" && data.format === \"atpls-audioset\";\n}\nexport function isAudiosetPack(audioset) {\n  return audioset.type === \"audioset\";\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/audioset/Audioset.ts"],"names":["isAudiosetBundle","data","format","isAudiosetPack","audioset","type"],"mappings":"AAGA;;;AAIA;AACA;AACA;AACA;AAEA,OAAO,SAASA,gBAAT,CAA0BC,IAA1B,EAA6D;AAClE,SAAO,OAAOA,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,CAACC,MAAL,KAAgB,gBAAnD;AACD;AAYD,OAAO,SAASC,cAAT,CAAwBC,QAAxB,EAAwE;AAC7E,SAAOA,QAAQ,CAACC,IAAT,KAAkB,UAAzB;AACD","sourcesContent":["import { Clip } from \"./Clip\";\nimport { Track } from \"./Track\";\n\n/**\n * An unsepecified audioset type\n */\nexport type AudiosetBundle = AudiosetProject | Audioset;\n// export interface AudiosetBundle {\n//   type: \"audioset\" | \"project\";\n//   meta: AudiosetMetadata;\n// }\n\nexport function isAudiosetBundle(data: any): data is AudiosetBundle {\n  return typeof data === \"object\" && data.format === \"atpls-audioset\";\n}\n\nexport interface Audioset {\n  type: \"audioset\";\n  meta: AudiosetMetadata;\n  id: string;\n  tracks: Track[];\n  clips: Clip[];\n  visuals: AudiosetVisuals;\n  index: AudiosetIndexes;\n}\n\nexport function isAudiosetPack(audioset: AudiosetBundle): audioset is Audioset {\n  return audioset.type === \"audioset\";\n}\n\nexport interface AudiosetMetadata {\n  title: string;\n  description: string;\n  path: string;\n  parent_path: string;\n  logo_url: string;\n  readme: string;\n  // FIXME: move to Audio section\n  bpm?: number;\n}\n/**\n * The aaudioset metadata extended to include the audioset id and publish path\n * It's used in audioset project to list audiosets\n */\nexport type AudiosetReference = AudiosetMetadata & {\n  id: string;\n  publish_path: string;\n};\n\n/**\n * An AudiosetProject is a group of audiosets\n */\nexport interface AudiosetProject {\n  type: \"project\";\n  meta: AudiosetMetadata;\n  audiosets: AudiosetReference[];\n}\nexport interface AudiosetIndexes {\n  clipById: Record<string, Clip>;\n  trackById: Record<string, Track>;\n  clipIdsOfTrack: Record<string, string[]>;\n  trackIdOfClip: Record<string, string>;\n}\n\nexport type AudiosetVisuals = MapVisuals | PanelVisuals;\n\nexport interface MapVisuals {\n  mode: \"map\";\n  geomap: {\n    url: string;\n    scaleFactor: number;\n    center: {\n      x: number;\n      y: number;\n    };\n  };\n}\n\nexport interface PanelVisuals {\n  mode: \"panel\";\n  image: {\n    url: string;\n    size: {\n      width: number;\n      height: number;\n    };\n  };\n}\n"]},"metadata":{},"sourceType":"module"}