{"ast":null,"code":"import React from\"react\";import{Markdown}from\"../shared/Markdown\";import\"./Preview.css\";function completed(status){return status.completed/status.total;}var Preview=function Preview(_ref){var audioset=_ref.audioset,onStart=_ref.onStart,resourceStatus=_ref.resourceStatus;return React.createElement(\"div\",{className:\"Preview\"},React.createElement(\"img\",{alt:audioset.meta.title,src:audioset.meta.logo_url}),React.createElement(\"div\",{className:\"inside\"},React.createElement(\"div\",null,audioset.meta.description),React.createElement(Markdown,{markdown:audioset.meta.readme}),resourceStatus.status===\"loading\"&&React.createElement(ProgressBar,{progress:completed(resourceStatus)}),resourceStatus.status===\"pending\"&&React.createElement(StartButton,{onStart:onStart})));};export default Preview;var StartButton=function StartButton(_ref2){var onStart=_ref2.onStart;return React.createElement(\"div\",{className:\"start\"},React.createElement(\"a\",{onClick:onStart},React.createElement(\"img\",{src:\"/play.png\",alt:\"Empezar\"})));};var SIZE=250;var MARGIN=10;var ProgressBar=function ProgressBar(_ref3){var progress=_ref3.progress;return React.createElement(\"svg\",{width:SIZE+2*MARGIN,height:\"20\",viewBox:\"0 0 \".concat(SIZE,\" 20\")},React.createElement(\"line\",{x1:\"0\",y1:\"10\",x2:SIZE,y2:\"10\",fill:\"none\",\"stroke-width\":\"12\",stroke:\"#000000\",\"stroke-linecap\":\"round\"}),React.createElement(\"line\",{x1:\"0\",y1:\"10\",x2:Math.floor(progress*SIZE),y2:\"10\",fill:\"none\",\"stroke-width\":\"12\",stroke:\"#00FF00\",\"stroke-dasharray\":\"170\",\"stroke-dashoffset\":\"dashOffsetLine\",\"stroke-linecap\":\"round\",id:\"lineInner\"}));};","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/Player/Preview.tsx"],"names":["React","Markdown","completed","status","total","Preview","audioset","onStart","resourceStatus","meta","title","logo_url","description","readme","StartButton","SIZE","MARGIN","ProgressBar","progress","Math","floor"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAMA,OAASC,QAAT,KAAyB,oBAAzB,CACA,MAAO,eAAP,CAEA,QAASC,CAAAA,SAAT,CAAmBC,MAAnB,CAA6C,CAC3C,MAAOA,CAAAA,MAAM,CAACD,SAAP,CAAmBC,MAAM,CAACC,KAAjC,CACD,CAED,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAyD,IAAtDC,CAAAA,QAAsD,MAAtDA,QAAsD,CAA5CC,OAA4C,MAA5CA,OAA4C,CAAnCC,cAAmC,MAAnCA,cAAmC,CACvE,MACE,4BAAK,SAAS,CAAC,SAAf,EACE,2BAAK,GAAG,CAAEF,QAAQ,CAACG,IAAT,CAAcC,KAAxB,CAA+B,GAAG,CAAEJ,QAAQ,CAACG,IAAT,CAAcE,QAAlD,EADF,CAGE,2BAAK,SAAS,CAAC,QAAf,EACE,+BAAML,QAAQ,CAACG,IAAT,CAAcG,WAApB,CADF,CAEE,oBAAC,QAAD,EAAU,QAAQ,CAAEN,QAAQ,CAACG,IAAT,CAAcI,MAAlC,EAFF,CAGGL,cAAc,CAACL,MAAf,GAA0B,SAA1B,EACC,oBAAC,WAAD,EAAa,QAAQ,CAAED,SAAS,CAACM,cAAD,CAAhC,EAJJ,CAMGA,cAAc,CAACL,MAAf,GAA0B,SAA1B,EACC,oBAAC,WAAD,EAAa,OAAO,CAAEI,OAAtB,EAPJ,CAHF,CADF,CAgBD,CAjBD,CAmBA,cAAeF,CAAAA,OAAf,CAUA,GAAMS,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,WAAGP,CAAAA,OAAH,OAAGA,OAAH,OAClB,4BAAK,SAAS,CAAC,OAAf,EACE,yBAAG,OAAO,CAAEA,OAAZ,EACE,2BAAK,GAAG,CAAC,WAAT,CAAqB,GAAG,CAAC,SAAzB,EADF,CADF,CADkB,EAApB,CAYA,GAAMQ,CAAAA,IAAI,CAAG,GAAb,CACA,GAAMC,CAAAA,MAAM,CAAG,EAAf,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,WAAGC,CAAAA,QAAH,OAAGA,QAAH,OAClB,4BAAK,KAAK,CAAEH,IAAI,CAAG,EAAIC,MAAvB,CAA+B,MAAM,CAAC,IAAtC,CAA2C,OAAO,eAASD,IAAT,OAAlD,EACE,4BACE,EAAE,CAAC,GADL,CAEE,EAAE,CAAC,IAFL,CAGE,EAAE,CAAEA,IAHN,CAIE,EAAE,CAAC,IAJL,CAKE,IAAI,CAAC,MALP,CAME,eAAa,IANf,CAOE,MAAM,CAAC,SAPT,CAQE,iBAAe,OARjB,EADF,CAWE,4BACE,EAAE,CAAC,GADL,CAEE,EAAE,CAAC,IAFL,CAGE,EAAE,CAAEI,IAAI,CAACC,KAAL,CAAWF,QAAQ,CAAGH,IAAtB,CAHN,CAIE,EAAE,CAAC,IAJL,CAKE,IAAI,CAAC,MALP,CAME,eAAa,IANf,CAOE,MAAM,CAAC,SAPT,CAQE,mBAAiB,KARnB,CASE,oBAAkB,gBATpB,CAUE,iBAAe,OAVjB,CAWE,EAAE,CAAC,WAXL,EAXF,CADkB,EAApB","sourcesContent":["import React from \"react\";\nimport { Audioset } from \"../../audioset\";\nimport {\n  LoadingResources,\n  ResourceLoadStatus,\n} from \"../../player/ResourceLoader\";\nimport { Markdown } from \"../shared/Markdown\";\nimport \"./Preview.css\";\n\nfunction completed(status: LoadingResources) {\n  return status.completed / status.total;\n}\n\nconst Preview = ({ audioset, onStart, resourceStatus }: PreviewProps) => {\n  return (\n    <div className=\"Preview\">\n      <img alt={audioset.meta.title} src={audioset.meta.logo_url} />\n\n      <div className=\"inside\">\n        <div>{audioset.meta.description}</div>\n        <Markdown markdown={audioset.meta.readme} />\n        {resourceStatus.status === \"loading\" && (\n          <ProgressBar progress={completed(resourceStatus)} />\n        )}\n        {resourceStatus.status === \"pending\" && (\n          <StartButton onStart={onStart} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Preview;\ninterface StartButtonProps {\n  onStart: () => void;\n}\n\ninterface PreviewProps extends StartButtonProps {\n  audioset: Audioset;\n  resourceStatus: ResourceLoadStatus;\n}\n\nconst StartButton = ({ onStart }: StartButtonProps) => (\n  <div className=\"start\">\n    <a onClick={onStart}>\n      <img src=\"/play.png\" alt=\"Empezar\" />\n    </a>\n  </div>\n);\n\ninterface ProgressBarProps {\n  progress: number;\n}\n\nconst SIZE = 250;\nconst MARGIN = 10;\n\nconst ProgressBar = ({ progress }: ProgressBarProps) => (\n  <svg width={SIZE + 2 * MARGIN} height=\"20\" viewBox={`0 0 ${SIZE} 20`}>\n    <line\n      x1=\"0\"\n      y1=\"10\"\n      x2={SIZE}\n      y2=\"10\"\n      fill=\"none\"\n      stroke-width=\"12\"\n      stroke=\"#000000\"\n      stroke-linecap=\"round\"\n    />\n    <line\n      x1=\"0\"\n      y1=\"10\"\n      x2={Math.floor(progress * SIZE)}\n      y2=\"10\"\n      fill=\"none\"\n      stroke-width=\"12\"\n      stroke=\"#00FF00\"\n      stroke-dasharray=\"170\"\n      stroke-dashoffset=\"dashOffsetLine\"\n      stroke-linecap=\"round\"\n      id=\"lineInner\"\n    />\n  </svg>\n);\n"]},"metadata":{},"sourceType":"module"}