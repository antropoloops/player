{"ast":null,"code":"/**\n * A simple pub/sub emitter\n */\nexport class Emitter {\n  constructor() {\n    this.listeners = [];\n  }\n\n  emit(event) {\n    this.listeners.forEach(listen => listen(event));\n  }\n\n  on(listener) {\n    this.listeners.push(listener);\n    return () => this.off(listener);\n  }\n\n  off(listener) {\n    const index = this.listeners.indexOf(listener);\n\n    if (index > -1) {\n      this.listeners.splice(index, 1);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/player/Emitter.ts"],"names":["Emitter","listeners","emit","event","forEach","listen","on","listener","push","off","index","indexOf","splice"],"mappings":"AAAA;;;AAGA,OAAO,MAAMA,OAAN,CAAiB;AAAA;AAAA,SACLC,SADK,GAC2B,EAD3B;AAAA;;AAEfC,EAAAA,IAAP,CAAYC,KAAZ,EAAsB;AACpB,SAAKF,SAAL,CAAeG,OAAf,CAAuBC,MAAM,IAAIA,MAAM,CAACF,KAAD,CAAvC;AACD;;AACMG,EAAAA,EAAP,CAAUC,QAAV,EAAiC;AAC/B,SAAKN,SAAL,CAAeO,IAAf,CAAoBD,QAApB;AACA,WAAO,MAAM,KAAKE,GAAL,CAASF,QAAT,CAAb;AACD;;AACME,EAAAA,GAAP,CAAWF,QAAX,EAAkC;AAChC,UAAMG,KAAK,GAAG,KAAKT,SAAL,CAAeU,OAAf,CAAuBJ,QAAvB,CAAd;;AACA,QAAIG,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,WAAKT,SAAL,CAAeW,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;AACD;AACF;;AAdqB","sourcesContent":["/**\n * A simple pub/sub emitter\n */\nexport class Emitter<T> {\n  private readonly listeners: Array<Listener<T>> = [];\n  public emit(event: T) {\n    this.listeners.forEach(listen => listen(event));\n  }\n  public on(listener: Listener<T>) {\n    this.listeners.push(listener);\n    return () => this.off(listener);\n  }\n  public off(listener: Listener<T>) {\n    const index = this.listeners.indexOf(listener);\n    if (index > -1) {\n      this.listeners.splice(index, 1);\n    }\n  }\n}\nexport type Listener<T> = (event: T) => void;\n"]},"metadata":{},"sourceType":"module"}