{"ast":null,"code":"import _slicedToArray from \"/Users/dani/Antropoloops/atpls-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useMemo, useState } from \"react\";\nimport { ResourceLoader } from \"../../player/ResourceLoader\";\nexport function useSession(audioset) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isStarted = _useState2[0],\n        setStarted = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoaded = _useState4[0],\n        setLoaded = _useState4[1];\n\n  const loader = useMemo(() => new ResourceLoader(audioset, status => {\n    if (status.stage === \"ready\") {\n      setLoaded(true);\n    }\n  }), [audioset]);\n  return {\n    isLoaded,\n    isStarted,\n    setStarted,\n    loader\n  };\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/Player/useSession.tsx"],"names":["useMemo","useState","ResourceLoader","useSession","audioset","isStarted","setStarted","isLoaded","setLoaded","loader","status","stage"],"mappings":";AAAA,SAASA,OAAT,EAAkBC,QAAlB,QAAkC,OAAlC;AAEA,SAASC,cAAT,QAA+B,6BAA/B;AAEA,OAAO,SAASC,UAAT,CAAoBC,QAApB,EAAwC;AAAA,oBACbH,QAAQ,CAAC,KAAD,CADK;AAAA;AAAA,QACtCI,SADsC;AAAA,QAC3BC,UAD2B;;AAAA,qBAEfL,QAAQ,CAAC,KAAD,CAFO;AAAA;AAAA,QAEtCM,QAFsC;AAAA,QAE5BC,SAF4B;;AAG7C,QAAMC,MAAM,GAAGT,OAAO,CACpB,MACE,IAAIE,cAAJ,CAAmBE,QAAnB,EAA6BM,MAAM,IAAI;AACrC,QAAIA,MAAM,CAACC,KAAP,KAAiB,OAArB,EAA8B;AAC5BH,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;AACF,GAJD,CAFkB,EAOpB,CAACJ,QAAD,CAPoB,CAAtB;AASA,SAAO;AAAEG,IAAAA,QAAF;AAAYF,IAAAA,SAAZ;AAAuBC,IAAAA,UAAvB;AAAmCG,IAAAA;AAAnC,GAAP;AACD","sourcesContent":["import { useMemo, useState } from \"react\";\nimport { Audioset } from \"../../audioset\";\nimport { ResourceLoader } from \"../../player/ResourceLoader\";\n\nexport function useSession(audioset: Audioset) {\n  const [isStarted, setStarted] = useState(false);\n  const [isLoaded, setLoaded] = useState(false);\n  const loader = useMemo<ResourceLoader>(\n    () =>\n      new ResourceLoader(audioset, status => {\n        if (status.stage === \"ready\") {\n          setLoaded(true);\n        }\n      }),\n    [audioset],\n  );\n  return { isLoaded, isStarted, setStarted, loader };\n}\n"]},"metadata":{},"sourceType":"module"}