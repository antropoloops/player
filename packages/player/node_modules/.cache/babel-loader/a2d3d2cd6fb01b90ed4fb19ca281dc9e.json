{"ast":null,"code":"export class AudioContextEngine {\n  constructor(context) {\n    this.context = context;\n  }\n\n  createAudioSource(props, destination) {\n    const source = this.context.createBufferSource();\n    source.buffer = props.buffer;\n    source.loop = true;\n    console.log(\"source\", source, destination);\n    source.connect(destination);\n    return source;\n  }\n\n  createTrack(props, destination) {\n    const track = this.context.createGain();\n    track.connect(destination || this.context.destination);\n    console.log(\"track\", track, destination);\n    return track;\n  }\n\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/player/AudioContextEngine.ts"],"names":["AudioContextEngine","constructor","context","createAudioSource","props","destination","source","createBufferSource","buffer","loop","console","log","connect","createTrack","track","createGain"],"mappings":"AASA,OAAO,MAAMA,kBAAN,CAAgD;AACrDC,EAAAA,WAAW,CAASC,OAAT,EAAiC;AAAA,SAAxBA,OAAwB,GAAxBA,OAAwB;AAAE;;AAEvCC,EAAAA,iBAAP,CACEC,KADF,EAEEC,WAFF,EAGe;AACb,UAAMC,MAAM,GAAG,KAAKJ,OAAL,CAAaK,kBAAb,EAAf;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAgBJ,KAAK,CAACI,MAAtB;AACAF,IAAAA,MAAM,CAACG,IAAP,GAAc,IAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,MAAtB,EAA8BD,WAA9B;AACAC,IAAAA,MAAM,CAACM,OAAP,CAAeP,WAAf;AACA,WAAOC,MAAP;AACD;;AACMO,EAAAA,WAAP,CACET,KADF,EAEEC,WAFF,EAGc;AACZ,UAAMS,KAAK,GAAG,KAAKZ,OAAL,CAAaa,UAAb,EAAd;AACAD,IAAAA,KAAK,CAACF,OAAN,CAAcP,WAAW,IAAI,KAAKH,OAAL,CAAaG,WAA1C;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB,EAA4BT,WAA5B;AACA,WAAOS,KAAP;AACD;;AAtBoD","sourcesContent":["import { IAudioContext } from \"standardized-audio-context\";\nimport {\n  AudioEngine,\n  AudioSource,\n  AudioSourceProperties,\n  AudioTrack,\n  AudioTrackProperties,\n} from \"./Audio\";\n\nexport class AudioContextEngine implements AudioEngine {\n  constructor(private context: IAudioContext) {}\n\n  public createAudioSource(\n    props: AudioSourceProperties,\n    destination: any,\n  ): AudioSource {\n    const source = this.context.createBufferSource();\n    source.buffer = props.buffer;\n    source.loop = true;\n    console.log(\"source\", source, destination);\n    source.connect(destination);\n    return source;\n  }\n  public createTrack(\n    props: AudioTrackProperties,\n    destination?: any,\n  ): AudioTrack {\n    const track = this.context.createGain();\n    track.connect(destination || this.context.destination);\n    console.log(\"track\", track, destination);\n    return track;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}