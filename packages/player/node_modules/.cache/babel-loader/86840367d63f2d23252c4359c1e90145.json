{"ast":null,"code":"import _slicedToArray from\"/Users/dani/Antropoloops/atpls-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from\"react\";import{ArrowDown,ArrowUp}from\"../../shared/Icons\";import{Markdown}from\"../../shared/Markdown\";import\"./Readme.css\";export var Readme=function Readme(_ref){var content=_ref.content;var _useReducer=useReducer(function(x){return!x;},false),_useReducer2=_slicedToArray(_useReducer,2),isOpen=_useReducer2[0],toggleOpen=_useReducer2[1];if(!content.length){return null;}var summary=getSummary(content);var isLarge=content.length>summary.length;return React.createElement(\"div\",{className:\"Readme\"},React.createElement(Markdown,{markdown:isOpen?content:summary}),React.createElement(\"button\",{className:\"btn-link\",onClick:toggleOpen},isLarge&&(isOpen?React.createElement(ArrowUp,null):React.createElement(ArrowDown,null))));};function getSummary(content){var nextLineIndex=content.indexOf(\"\\n\");var firstLine=nextLineIndex>0?content.slice(0,nextLineIndex):content;if(firstLine.length<100){return firstLine;}var firstPointIndex=firstLine.search(/[.:]/);var firstSentence=firstPointIndex>0?firstLine.slice(0,firstPointIndex):firstLine;return firstSentence+\".\";}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/components/Player/Readme.tsx"],"names":["React","useReducer","ArrowDown","ArrowUp","Markdown","Readme","content","x","isOpen","toggleOpen","length","summary","getSummary","isLarge","nextLineIndex","indexOf","firstLine","slice","firstPointIndex","search","firstSentence"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,SAAT,CAAoBC,OAApB,KAAmC,oBAAnC,CACA,OAASC,QAAT,KAAyB,uBAAzB,CACA,MAAO,cAAP,CAMA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAA8B,IAA3BC,CAAAA,OAA2B,MAA3BA,OAA2B,iBACrBL,UAAU,CAAC,SAAAM,CAAC,QAAI,CAACA,CAAL,EAAF,CAAU,KAAV,CADW,4CAC3CC,MAD2C,iBACnCC,UADmC,iBAGlD,GAAI,CAACH,OAAO,CAACI,MAAb,CAAqB,CACnB,MAAO,KAAP,CACD,CAED,GAAMC,CAAAA,OAAO,CAAGC,UAAU,CAACN,OAAD,CAA1B,CACA,GAAMO,CAAAA,OAAO,CAAGP,OAAO,CAACI,MAAR,CAAiBC,OAAO,CAACD,MAAzC,CAEA,MACE,4BAAK,SAAS,CAAC,QAAf,EACE,oBAAC,QAAD,EAAU,QAAQ,CAAEF,MAAM,CAAGF,OAAH,CAAaK,OAAvC,EADF,CAEE,8BAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAEF,UAAtC,EACGI,OAAO,GAAKL,MAAM,CAAG,oBAAC,OAAD,MAAH,CAAiB,oBAAC,SAAD,MAA5B,CADV,CAFF,CADF,CAQD,CAlBM,CAoBP,QAASI,CAAAA,UAAT,CAAoBN,OAApB,CAAqC,CACnC,GAAMQ,CAAAA,aAAa,CAAGR,OAAO,CAACS,OAAR,CAAgB,IAAhB,CAAtB,CACA,GAAMC,CAAAA,SAAS,CACbF,aAAa,CAAG,CAAhB,CAAoBR,OAAO,CAACW,KAAR,CAAc,CAAd,CAAiBH,aAAjB,CAApB,CAAsDR,OADxD,CAEA,GAAIU,SAAS,CAACN,MAAV,CAAmB,GAAvB,CAA4B,CAC1B,MAAOM,CAAAA,SAAP,CACD,CAED,GAAME,CAAAA,eAAe,CAAGF,SAAS,CAACG,MAAV,CAAiB,MAAjB,CAAxB,CACA,GAAMC,CAAAA,aAAa,CACjBF,eAAe,CAAG,CAAlB,CAAsBF,SAAS,CAACC,KAAV,CAAgB,CAAhB,CAAmBC,eAAnB,CAAtB,CAA4DF,SAD9D,CAEA,MAAOI,CAAAA,aAAa,CAAG,GAAvB,CACD","sourcesContent":["import React, { useReducer } from \"react\";\nimport { ArrowDown, ArrowUp } from \"../../shared/Icons\";\nimport { Markdown } from \"../../shared/Markdown\";\nimport \"./Readme.css\";\n\ninterface ReadmeProps {\n  content: string;\n}\n\nexport const Readme = ({ content }: ReadmeProps) => {\n  const [isOpen, toggleOpen] = useReducer(x => !x, false);\n\n  if (!content.length) {\n    return null;\n  }\n\n  const summary = getSummary(content);\n  const isLarge = content.length > summary.length;\n\n  return (\n    <div className=\"Readme\">\n      <Markdown markdown={isOpen ? content : summary} />\n      <button className=\"btn-link\" onClick={toggleOpen}>\n        {isLarge && (isOpen ? <ArrowUp /> : <ArrowDown />)}\n      </button>\n    </div>\n  );\n};\n\nfunction getSummary(content: string) {\n  const nextLineIndex = content.indexOf(\"\\n\");\n  const firstLine =\n    nextLineIndex > 0 ? content.slice(0, nextLineIndex) : content;\n  if (firstLine.length < 100) {\n    return firstLine;\n  }\n\n  const firstPointIndex = firstLine.search(/[.:]/);\n  const firstSentence =\n    firstPointIndex > 0 ? firstLine.slice(0, firstPointIndex) : firstLine;\n  return firstSentence + \".\";\n}\n"]},"metadata":{},"sourceType":"module"}