{"ast":null,"code":"import { createAudioset } from \"../../audioset\";\nconst PRODUCTION = `https://antropoloops-production.s3.eu-west-3.amazonaws.com/files`;\nconst STAGING = `https://play-admin.antropoloops.com/api/1.0/index`;\n\nconst getProductionUrl = idOrUrl => idOrUrl.endsWith(\".json\") ? idOrUrl : `${PRODUCTION}/${idOrUrl}.audioset.json`;\n\nconst getStaginUrl = idOrUrl => idOrUrl.endsWith(\".json\") ? idOrUrl : idOrUrl === \"index\" ? STAGING : `${STAGING}/${idOrUrl}`;\n\nconst getUrl = process.env.NODE_ENV === \"development\" ? getStaginUrl : getProductionUrl;\nexport function fetchAudioset(idOrUrl) {\n  console.log(\"JODER\", idOrUrl);\n  if (idOrUrl === \"index\") return Promise.resolve(INDEX).then(createAudioset);\n  return fetch(getUrl(idOrUrl)).then(r => r.json()).then(createAudioset);\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/lib/fetchAudioset.ts"],"names":["createAudioset","PRODUCTION","STAGING","getProductionUrl","idOrUrl","endsWith","getStaginUrl","getUrl","process","env","NODE_ENV","fetchAudioset","console","log","Promise","resolve","INDEX","then","fetch","r","json"],"mappings":"AAAA,SAAiBA,cAAjB,QAAuC,gBAAvC;AAEA,MAAMC,UAAU,GAAI,kEAApB;AACA,MAAMC,OAAO,GAAI,mDAAjB;;AAEA,MAAMC,gBAAgB,GAAIC,OAAD,IACvBA,OAAO,CAACC,QAAR,CAAiB,OAAjB,IACID,OADJ,GAEK,GAAEH,UAAW,IAAGG,OAAQ,gBAH/B;;AAKA,MAAME,YAAY,GAAIF,OAAD,IACnBA,OAAO,CAACC,QAAR,CAAiB,OAAjB,IACID,OADJ,GAEIA,OAAO,KAAK,OAAZ,GACAF,OADA,GAEC,GAAEA,OAAQ,IAAGE,OAAQ,EAL5B;;AAOA,MAAMG,MAAM,GACVC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCJ,YAAzC,GAAwDH,gBAD1D;AAGA,OAAO,SAASQ,aAAT,CAAuBP,OAAvB,EAAyD;AAC9DQ,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,OAArB;AACA,MAAIA,OAAO,KAAK,OAAhB,EAAyB,OAAOU,OAAO,CAACC,OAAR,CAAgBC,KAAhB,EAAuBC,IAAvB,CAA4BjB,cAA5B,CAAP;AAEzB,SAAOkB,KAAK,CAACX,MAAM,CAACH,OAAD,CAAP,CAAL,CACJa,IADI,CACCE,CAAC,IAAIA,CAAC,CAACC,IAAF,EADN,EAEJH,IAFI,CAECjB,cAFD,CAAP;AAGD","sourcesContent":["import { Bundle, createAudioset } from \"../../audioset\";\n\nconst PRODUCTION = `https://antropoloops-production.s3.eu-west-3.amazonaws.com/files`;\nconst STAGING = `https://play-admin.antropoloops.com/api/1.0/index`;\n\nconst getProductionUrl = (idOrUrl: string) =>\n  idOrUrl.endsWith(\".json\")\n    ? idOrUrl\n    : `${PRODUCTION}/${idOrUrl}.audioset.json`;\n\nconst getStaginUrl = (idOrUrl: string) =>\n  idOrUrl.endsWith(\".json\")\n    ? idOrUrl\n    : idOrUrl === \"index\"\n    ? STAGING\n    : `${STAGING}/${idOrUrl}`;\n\nconst getUrl =\n  process.env.NODE_ENV === \"development\" ? getStaginUrl : getProductionUrl;\n\nexport function fetchAudioset(idOrUrl: string): Promise<Bundle> {\n  console.log(\"JODER\", idOrUrl);\n  if (idOrUrl === \"index\") return Promise.resolve(INDEX).then(createAudioset);\n\n  return fetch(getUrl(idOrUrl))\n    .then(r => r.json())\n    .then(createAudioset);\n}\n\n"]},"metadata":{},"sourceType":"module"}