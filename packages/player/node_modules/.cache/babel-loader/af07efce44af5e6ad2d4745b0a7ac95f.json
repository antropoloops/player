{"ast":null,"code":"import { getActiveAudioContext } from \"./AudioContext\";\n/**\n * Fetch an AudioBuffer from a fetch response\n */\n\nexport async function decodeAudioBuffer(response) {\n  const context = await getActiveAudioContext();\n  const arrayBuffer = await response.arrayBuffer();\n  return decodeArrayBuffer(context, arrayBuffer);\n}\n\nfunction decodeArrayBuffer(ctx, buffer) {\n  return new Promise((resolve, reject) => {\n    ctx.decodeAudioData(buffer, resolve, reject);\n  });\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/player/decodeAudioBuffer.ts"],"names":["getActiveAudioContext","decodeAudioBuffer","response","context","arrayBuffer","decodeArrayBuffer","ctx","buffer","Promise","resolve","reject","decodeAudioData"],"mappings":"AACA,SAASA,qBAAT,QAAsC,gBAAtC;AAEA;;;;AAGA,OAAO,eAAeC,iBAAf,CAAiCC,QAAjC,EAAqD;AAC1D,QAAMC,OAAO,GAAG,MAAMH,qBAAqB,EAA3C;AACA,QAAMI,WAAW,GAAG,MAAMF,QAAQ,CAACE,WAAT,EAA1B;AACA,SAAOC,iBAAiB,CAACF,OAAD,EAAUC,WAAV,CAAxB;AACD;;AAED,SAASC,iBAAT,CACEC,GADF,EAEEC,MAFF,EAGwB;AACtB,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,GAAG,CAACK,eAAJ,CAAoBJ,MAApB,EAA4BE,OAA5B,EAAqCC,MAArC;AACD,GAFM,CAAP;AAGD","sourcesContent":["import { IAudioContext } from \"standardized-audio-context\";\nimport { getActiveAudioContext } from \"./AudioContext\";\n\n/**\n * Fetch an AudioBuffer from a fetch response\n */\nexport async function decodeAudioBuffer(response: Response) {\n  const context = await getActiveAudioContext();\n  const arrayBuffer = await response.arrayBuffer();\n  return decodeArrayBuffer(context, arrayBuffer);\n}\n\nfunction decodeArrayBuffer(\n  ctx: IAudioContext,\n  buffer: ArrayBuffer,\n): Promise<AudioBuffer> {\n  return new Promise((resolve, reject) => {\n    ctx.decodeAudioData(buffer, resolve, reject);\n  });\n}\n"]},"metadata":{},"sourceType":"module"}