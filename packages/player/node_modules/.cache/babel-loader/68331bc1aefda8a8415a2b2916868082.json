{"ast":null,"code":"import _slicedToArray from \"/Users/dani/Antropoloops/atpls-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport { fetchAudioset } from \"../../player/fetchAudioset\";\nexport function useRemoteBundle(idOrUrl) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        bundle = _useState2[0],\n        setBundle = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  useEffect(() => {\n    let didCancel = false;\n\n    function fetch() {\n      setLoading(true);\n      fetchAudioset(idOrUrl).then(result => {\n        if (!didCancel) {\n          setLoading(false);\n          setBundle(result);\n        }\n      }).catch(setError);\n    }\n\n    fetch();\n    return () => {\n      didCancel = true;\n    };\n  }, [idOrUrl]);\n  return {\n    bundle,\n    loading,\n    error\n  };\n}","map":{"version":3,"sources":["/Users/dani/Antropoloops/atpls-player/src/ui/App/useRemoteBundle.tsx"],"names":["useEffect","useState","fetchAudioset","useRemoteBundle","idOrUrl","bundle","setBundle","loading","setLoading","error","setError","didCancel","fetch","then","result","catch"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,aAAT,QAA8B,4BAA9B;AAEA,OAAO,SAASC,eAAT,CAAyBC,OAAzB,EAA0C;AAAA,oBACnBH,QAAQ,CAAoB,IAApB,CADW;AAAA;AAAA,QACxCI,MADwC;AAAA,QAChCC,SADgC;;AAAA,qBAEjBL,QAAQ,CAAU,IAAV,CAFS;AAAA;AAAA,QAExCM,OAFwC;AAAA,QAE/BC,UAF+B;;AAAA,qBAGrBP,QAAQ,CAAM,IAAN,CAHa;AAAA;AAAA,QAGxCQ,KAHwC;AAAA,QAGjCC,QAHiC;;AAK/CV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,SAAS,GAAG,KAAhB;;AAEA,aAASC,KAAT,GAAiB;AACfJ,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAN,MAAAA,aAAa,CAACE,OAAD,CAAb,CACGS,IADH,CACQC,MAAM,IAAI;AACd,YAAI,CAACH,SAAL,EAAgB;AACdH,UAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,UAAAA,SAAS,CAACQ,MAAD,CAAT;AACD;AACF,OANH,EAOGC,KAPH,CAOSL,QAPT;AAQD;;AAEDE,IAAAA,KAAK;AACL,WAAO,MAAM;AACXD,MAAAA,SAAS,GAAG,IAAZ;AACD,KAFD;AAGD,GAnBQ,EAmBN,CAACP,OAAD,CAnBM,CAAT;AAqBA,SAAO;AAAEC,IAAAA,MAAF;AAAUE,IAAAA,OAAV;AAAmBE,IAAAA;AAAnB,GAAP;AACD","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Bundle as BundleData } from \"../../audioset\";\nimport { fetchAudioset } from \"../../player/fetchAudioset\";\n\nexport function useRemoteBundle(idOrUrl: string) {\n  const [bundle, setBundle] = useState<BundleData | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<any>(null);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    function fetch() {\n      setLoading(true);\n      fetchAudioset(idOrUrl)\n        .then(result => {\n          if (!didCancel) {\n            setLoading(false);\n            setBundle(result);\n          }\n        })\n        .catch(setError);\n    }\n\n    fetch();\n    return () => {\n      didCancel = true;\n    };\n  }, [idOrUrl]);\n\n  return { bundle, loading, error };\n}\n"]},"metadata":{},"sourceType":"module"}